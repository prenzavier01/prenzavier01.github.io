"use strict";(self.webpackChunkprenzavier01_github_io=self.webpackChunkprenzavier01_github_io||[]).push([[40],{5660:(Y,w,a)=>{a.r(w),a.d(w,{Module:()=>L});var d=a(1368),x=a(3660),m=a(940),h=a(1780),s=a(4496),_=a(1296);let y=(()=>{class o{constructor(){}ngOnInit(){}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=s.In1({type:o,selectors:[["app-layout"]],decls:3,vars:0,consts:[[1,"content"]],template:function(t,i){1&t&&(s.wR5(0,"app-breadcrumb"),s.I0R(1,"section",0),s.wR5(2,"router-outlet"),s.C$Y())},dependencies:[m.cP,_.a]})}return o})();var A=a(8768),l=a(2328),g=a(7176),v=a(460),b=a(3064),f=a(5584),c=a(2532),S=a(5376),C=a(6228);const R=()=>({value:"",description:"All"}),B=()=>({value:"Active",description:"Active"}),E=()=>({value:"Suspended",description:"Suspended"}),U=(o,p,e)=>[o,p,e];let D=(()=>{class o{datePipe;service;appService;exportService;dialogService;toastService;constructor(e,t,i,r,n,u){this.datePipe=e,this.service=t,this.appService=i,this.exportService=r,this.dialogService=n,this.toastService=u}borrowers;viewPreference="";tableConfig={singleActions:["edit","change status","delete"],bulkActions:["change status","delete"],columnCSV:[],showSelect:!0,showSort:!0,showExport:!0};filter;sort="asc";status=["Active","Suspended"];ngOnInit(){this.viewPreference=this.appService.getAccount().viewPreference,this.getBorrowers(),this.getPermissions()}permissions;getPermissions(){this.permissions=this.appService.getPermissions()}getBorrowers(){this.service.getList(this.filter,this.sort).subscribe({next:e=>{this.borrowers=e.data.map(t=>(t.editDisabled=t.changeDisabled=!this.permissions.borrowers[2].checked,t.deleteDisabled=!this.permissions.borrowers[3].checked,t.checkDisabled=t.editDisabled&&t.changeDisabled&&t.deleteDisabled,t))}})}createBorrower(){this.dialogService.manageBorrowers().afterClose.subscribe({next:e=>{e.data&&this.getBorrowers()}})}editBorrower(e){this.dialogService.manageBorrowers(e).afterClose.subscribe({next:t=>{t.data&&this.getBorrowers()}})}changeStatus(e){this.dialogService.changeStatus("Change Status: Borrowers",this.status).afterClose.subscribe({next:t=>{if(t.data){let i=e.map(r=>r.id).join(",");this.service.changestatus(i,t.data).subscribe({next:r=>{this.toastService.show("success","Borrowers",r.message),this.getBorrowers()}})}}})}deleteBorrower(e){this.dialogService.confirm("Delete Borrower","Are you sure you want to delete?").afterClose.subscribe({next:t=>{if(t.data){let i=e.map(r=>r.id).join(",");this.service.delete(i).subscribe({next:r=>{this.toastService.show("success","Borrowers",r.message),this.getBorrowers()}})}}})}onFilterHeaderChange(e){this.filter=e,this.getBorrowers()}onSort(e){this.sort=e,this.getBorrowers()}onExport(e){let t=[{title:"Borrowers List as of "+this.datePipe.transform(new Date,"MMM dd, yyyy"),headers:e.headers,data:e.values,sheetName:"Borrowers"}];"xlsx"==e.type?this.exportService.generateExcel(t,"Borrowers"):"csv"==e.type?this.exportService.generateCSV(t,"Borrowers"):this.exportService.generatePDF(t,"Borrowers")}doBulkAction(e){"change status"==e.action?this.changeStatus(e.data):this.deleteBorrower(e.data)}doSingleAction(e){"edit"==e.action?this.editBorrower(e.data):"change status"==e.action?this.changeStatus([e.data]):this.deleteBorrower([e.data])}static \u0275fac=function(t){return new(t||o)(s.GI1(d.y),s.GI1(A.K),s.GI1(l.ye),s.GI1(l.YN),s.GI1(g.E),s.GI1(l.s9))};static \u0275cmp=s.In1({type:o,selectors:[["app-borrowers"]],decls:14,vars:11,consts:[[1,"mt-[-25px]","px-2.5"],["nz-row",""],["nz-col","","nzSpan","24",1,"flex","justify-end"],["id","createButton","nz-button","",1,"bg-primary","rounded-xl","text-white","btn-create","disabled:bg-gray-500",3,"disabled","click"],[3,"dataSource","config","emitFilter","emitSort","emitExport","emitSingleAction","emitBulkAction"],["borrowersTable",""],["name","lastName","value","Last Name","filter","text"],["name","firstName","value","First Name","filter","text"],["name","contactNumber","value","Contact No.","filter","text"],["name","administrator","value","Administrator","filter","text"],["name","dateCreated","value","Date Created","filter","daterangepicker"],["name","dateUpdated","value","Date Updated","filter","daterangepicker"],["name","status","value","Status","filter","select",3,"options"]],template:function(t,i){1&t&&(s.I0R(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),s.qCj("click",function(){return i.createBorrower()}),s.OEk(4," CREATE "),s.C$Y()()(),s.I0R(5,"app-table",4,5),s.qCj("emitFilter",function(n){return i.onFilterHeaderChange(n)})("emitSort",function(n){return i.onSort(n)})("emitExport",function(n){return i.onExport(n)})("emitSingleAction",function(n){return i.doSingleAction(n)})("emitBulkAction",function(n){return i.doBulkAction(n)}),s.wR5(7,"app-table-columns",6)(8,"app-table-columns",7)(9,"app-table-columns",8)(10,"app-table-columns",9)(11,"app-table-columns",10)(12,"app-table-columns",11)(13,"app-table-columns",12),s.C$Y()()),2&t&&(s.yG2(3),s.E7m("disabled",!i.permissions.borrowers[1].checked),s.yG2(2),s.E7m("dataSource",i.borrowers)("config",i.tableConfig),s.yG2(8),s.E7m("options",s.uAc(7,U,s.q4q(4,R),s.q4q(5,B),s.q4q(6,E))))},dependencies:[v.Ez,b.k,f.o9,c.QD,c.ox,S.o,C.E]})}return o})();const k=()=>({value:"",description:"All"}),I=()=>({value:"Active",description:"Active"}),P=()=>({value:"Suspended",description:"Suspended"}),T=(o,p,e)=>[o,p,e];let G=(()=>{class o{datePipe;service;appService;exportService;dialogService;toastService;constructor(e,t,i,r,n,u){this.datePipe=e,this.service=t,this.appService=i,this.exportService=r,this.dialogService=n,this.toastService=u}roles;viewPreference="";tableConfig={singleActions:["edit","change status","delete"],bulkActions:["change status","delete"],columnCSV:[],showSelect:!0,showSort:!0,showExport:!0};filter;sort="asc";status=["Active","Suspended"];ngOnInit(){this.viewPreference=this.appService.getAccount().viewPreference,this.getRoles(),this.getPermissions()}permissions;getPermissions(){this.permissions=this.appService.getPermissions()}getRoles(){this.service.getList(this.filter,this.sort).subscribe({next:e=>{this.roles=e.data.map(t=>(t.editDisabled=t.changeDisabled=!this.permissions.roles[2].checked,t.deleteDisabled=!this.permissions.roles[3].checked,t.checkDisabled=t.editDisabled&&t.changeDisabled&&t.deleteDisabled,t.checkDisabled=t.deleteDisabled="Core"==t.type,t))}})}createRole(){this.dialogService.manageRoles().afterClose.subscribe({next:e=>{e.data&&this.getRoles()}})}editRole(e){this.dialogService.manageRoles(e).afterClose.subscribe({next:t=>{t.data&&this.getRoles()}})}changeStatus(e){this.dialogService.changeStatus("Change Status: Roles",this.status).afterClose.subscribe({next:t=>{if(t.data){let i=e.map(r=>r.id).join(",");this.service.changestatus(i,t.data).subscribe({next:r=>{this.toastService.show("success","Roles",r.message),this.getRoles()}})}}})}deleteRole(e){this.dialogService.confirm("Delete Role","Are you sure you want to delete?").afterClose.subscribe({next:t=>{if(t.data){let i=e.map(r=>r.id).join(",");this.service.delete(i).subscribe({next:r=>{this.toastService.show("success","Roles",r.message),this.getRoles()}})}}})}onFilterHeaderChange(e){this.filter=e,this.getRoles()}onSort(e){this.sort=e,this.getRoles()}onExport(e){let t=[{title:"Roles List as of "+this.datePipe.transform(new Date,"MMM dd, yyyy"),headers:e.headers,data:e.values,sheetName:"Roles"}];"xlsx"==e.type?this.exportService.generateExcel(t,"Roles"):"csv"==e.type?this.exportService.generateCSV(t,"Roles"):this.exportService.generatePDF(t,"Roles")}doBulkAction(e){"change status"==e.action?this.changeStatus(e.data):this.deleteRole(e.data)}doSingleAction(e){"edit"==e.action?this.editRole(e.data):"change status"==e.action?this.changeStatus([e.data]):this.deleteRole([e.data])}static \u0275fac=function(t){return new(t||o)(s.GI1(d.y),s.GI1(l.q4),s.GI1(l.ye),s.GI1(l.YN),s.GI1(g.E),s.GI1(l.s9))};static \u0275cmp=s.In1({type:o,selectors:[["app-roles"]],decls:13,vars:11,consts:[[1,"mt-[-25px]","px-2.5"],["nz-row",""],["nz-col","","nzSpan","24",1,"flex","justify-end"],["id","createButton","nz-button","",1,"bg-primary","rounded-xl","text-white","btn-create","disabled:bg-gray-500",3,"disabled","click"],[3,"dataSource","config","emitFilter","emitSort","emitExport","emitSingleAction","emitBulkAction"],["rolesTable",""],["name","name","value","Name","filter","text"],["name","type","value","Type","filter","text"],["name","administrator","value","Administrator","filter","text"],["name","dateCreated","value","Date Created","filter","daterangepicker"],["name","dateUpdated","value","Date Updated","filter","daterangepicker"],["name","status","value","Status","filter","select",3,"options"]],template:function(t,i){1&t&&(s.I0R(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),s.qCj("click",function(){return i.createRole()}),s.OEk(4," CREATE "),s.C$Y()()(),s.I0R(5,"app-table",4,5),s.qCj("emitFilter",function(n){return i.onFilterHeaderChange(n)})("emitSort",function(n){return i.onSort(n)})("emitExport",function(n){return i.onExport(n)})("emitSingleAction",function(n){return i.doSingleAction(n)})("emitBulkAction",function(n){return i.doBulkAction(n)}),s.wR5(7,"app-table-columns",6)(8,"app-table-columns",7)(9,"app-table-columns",8)(10,"app-table-columns",9)(11,"app-table-columns",10)(12,"app-table-columns",11),s.C$Y()()),2&t&&(s.yG2(3),s.E7m("disabled",!i.permissions.roles[1].checked),s.yG2(2),s.E7m("dataSource",i.roles)("config",i.tableConfig),s.yG2(7),s.E7m("options",s.uAc(7,T,s.q4q(4,k),s.q4q(5,I),s.q4q(6,P))))},dependencies:[v.Ez,b.k,f.o9,c.QD,c.ox,S.o,C.E]})}return o})();const F=()=>({value:"",description:"All"}),z=()=>({value:"Active",description:"Active"}),j=()=>({value:"Suspended",description:"Suspended"}),N=(o,p,e)=>[o,p,e],M=[{path:"",component:y,children:[{path:"users",pathMatch:"full",component:(()=>{class o{datePipe;service;appService;exportService;dialogService;toastService;constructor(e,t,i,r,n,u){this.datePipe=e,this.service=t,this.appService=i,this.exportService=r,this.dialogService=n,this.toastService=u}users;viewPreference="";tableConfig={singleActions:["edit","change status","delete"],bulkActions:["change status","delete"],columnCSV:[],showSelect:!0,showSort:!0,showExport:!0};filter;sort="asc";status=["Active","Suspended"];ngOnInit(){this.viewPreference=this.appService.getAccount().viewPreference,this.getUsers(),this.getPermissions()}permissions;getPermissions(){this.permissions=this.appService.getPermissions()}getUsers(){this.service.getList(this.filter,this.sort).subscribe({next:e=>{this.users=e.data.map((t,i)=>(t.editDisabled=t.changeDisabled=!this.permissions.banks[2].checked,t.deleteDisabled=!this.permissions.banks[3].checked,t.checkDisabled=t.editDisabled&&t.changeDisabled&&t.deleteDisabled,0==i&&(t.checkDisabled=!0,t.deleteDisabled=!0),t))}})}createUser(){this.dialogService.manageUsers().afterClose.subscribe({next:e=>{e.data&&this.getUsers()}})}editUser(e){this.dialogService.manageUsers(e).afterClose.subscribe({next:t=>{t.data&&this.getUsers()}})}changeStatus(e){this.dialogService.changeStatus("Change Status: Users",this.status).afterClose.subscribe({next:t=>{if(t.data){let i=e.map(r=>r.id).join(",");this.service.changestatus(i,t.data).subscribe({next:r=>{this.toastService.show("success","Users",r.message),this.getUsers()}})}}})}deleteUser(e){this.dialogService.confirm("Delete User","Are you sure you want to delete?").afterClose.subscribe({next:t=>{if(t.data){let i=e.map(r=>r.id).join(",");this.service.delete(i).subscribe({next:r=>{this.toastService.show("success","Users",r.message),this.getUsers()}})}}})}onFilterHeaderChange(e){this.filter=e,this.getUsers()}onSort(e){this.sort=e,this.getUsers()}onExport(e){let t=[{title:"Users List as of "+this.datePipe.transform(new Date,"MMM dd, yyyy"),headers:e.headers,data:e.values,sheetName:"Users"}];"xlsx"==e.type?this.exportService.generateExcel(t,"Users"):"csv"==e.type?this.exportService.generateCSV(t,"Users"):this.exportService.generatePDF(t,"Users")}doBulkAction(e){"change status"==e.action?this.changeStatus(e.data):this.deleteUser(e.data)}doSingleAction(e){"edit"==e.action?this.editUser(e.data):"change status"==e.action?this.changeStatus([e.data]):this.deleteUser([e.data])}static \u0275fac=function(t){return new(t||o)(s.GI1(d.y),s.GI1(l.oz),s.GI1(l.ye),s.GI1(l.YN),s.GI1(g.E),s.GI1(l.s9))};static \u0275cmp=s.In1({type:o,selectors:[["app-users"]],decls:13,vars:11,consts:[[1,"mt-[-25px]","px-2.5"],["nz-row",""],["nz-col","","nzSpan","24",1,"flex","justify-end"],["id","createButton","nz-button","",1,"bg-primary","rounded-xl","text-white","btn-create","disabled:bg-gray-500",3,"disabled","click"],[3,"dataSource","config","emitFilter","emitSort","emitExport","emitSingleAction","emitBulkAction"],["usersTable",""],["name","name","value","Name","filter","text"],["name","role","value","Role","filter","text"],["name","administrator","value","Administrator","filter","text"],["name","dateCreated","value","Date Created","filter","daterangepicker"],["name","dateUpdated","value","Date Updated","filter","daterangepicker"],["name","status","value","Status","filter","select",3,"options"]],template:function(t,i){1&t&&(s.I0R(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),s.qCj("click",function(){return i.createUser()}),s.OEk(4," CREATE "),s.C$Y()()(),s.I0R(5,"app-table",4,5),s.qCj("emitFilter",function(n){return i.onFilterHeaderChange(n)})("emitSort",function(n){return i.onSort(n)})("emitExport",function(n){return i.onExport(n)})("emitSingleAction",function(n){return i.doSingleAction(n)})("emitBulkAction",function(n){return i.doBulkAction(n)}),s.wR5(7,"app-table-columns",6)(8,"app-table-columns",7)(9,"app-table-columns",8)(10,"app-table-columns",9)(11,"app-table-columns",10)(12,"app-table-columns",11),s.C$Y()()),2&t&&(s.yG2(3),s.E7m("disabled",!i.permissions.sex[1].checked),s.yG2(2),s.E7m("dataSource",i.users)("config",i.tableConfig),s.yG2(7),s.E7m("options",s.uAc(7,N,s.q4q(4,F),s.q4q(5,z),s.q4q(6,j))))},dependencies:[v.Ez,b.k,f.o9,c.QD,c.ox,S.o,C.E]})}return o})(),data:{breadcrumb:h.m.ACCOUNTS_USERS}},{path:"roles",pathMatch:"full",component:G,data:{breadcrumb:h.m.ACCOUNTS_ROLES}},{path:"borrowers",pathMatch:"full",component:D,data:{breadcrumb:h.m.ACCOUNTS_BORROWERS}}]}];let O=(()=>{class o{static \u0275fac=function(t){return new(t||o)};static \u0275mod=s.a4G({type:o});static \u0275inj=s.s3X({imports:[m.qQ.forChild(M),m.qQ]})}return o})();var q=a(4744);let L=(()=>{class o{static \u0275fac=function(t){return new(t||o)};static \u0275mod=s.a4G({type:o});static \u0275inj=s.s3X({imports:[d.MD,O,x.k,q.cP.forChild()]})}return o})()}}]);