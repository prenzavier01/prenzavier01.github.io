"use strict";(self.webpackChunkprenzavier01_github_io=self.webpackChunkprenzavier01_github_io||[]).push([[696],{6696:(A,y,i)=>{i.r(y),i.d(y,{Module:()=>r});var v=i(1368),b=i(3660),l=i(940),h=i(1780),e=i(4496),a=i(1296);let f=(()=>{class t{constructor(){}ngOnInit(){}static \u0275fac=function(s){return new(s||t)};static \u0275cmp=e.In1({type:t,selectors:[["app-layout"]],decls:3,vars:0,consts:[[1,"content"]],template:function(s,o){1&s&&(e.wR5(0,"app-breadcrumb"),e.I0R(1,"section",0),e.wR5(2,"router-outlet"),e.C$Y())},dependencies:[l.cP,a.a]})}return t})();var E=i(2328),g=i(2532),d=i(2080),O=i(4744);function R(t,u){if(1&t&&(e.I0R(0,"tr")(1,"td"),e.OEk(2),e.C$Y(),e.I0R(3,"td"),e.OEk(4),e.C$Y(),e.I0R(5,"td"),e.OEk(6),e.C$Y(),e.I0R(7,"td"),e.OEk(8),e.C$Y()()),2&t){const n=u.$implicit;e.yG2(2),e.cNF(n.referenceNumber),e.yG2(2),e.cNF(n.borrower),e.yG2(2),e.cNF(n.dueDate),e.yG2(2),e.cNF(n.amount)}}const I=[{path:"",component:f,children:[{path:"",pathMatch:"full",component:(()=>{class t{service;months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];inventoryChartOption;humanresourcesChartOption;accountingChartOption;downloadChartOption;loanTrendsValues=[];loanTrendsOverTime="";loanTrendsChartOption;yearWiseOverTime="";yearWiseComparison="";yearWiseChartOption;activities;tableConfig={singleActions:[],bulkActions:[],columnCSV:[]};paymentDues=[];constructor(n){this.service=n}ngOnInit(){this.getCounts(),this.getLoanTrends(),this.getYearWiseComparison(),this.getPaymentsDue()}counts=[];getCounts(){this.service.getCounts().subscribe({next:n=>{this.counts=n.data}})}getLoanTrends(){this.service.getLoanTrends().subscribe({next:n=>{const s=n.data,o=s.values.map(p=>p.date),m=s.values.map(p=>p.amount);this.loanTrendsOverTime=s.totalAmount,this.loanTrendsChartOption={tooltip:{show:!0},xAxis:{type:"category",data:o,axisLabel:{show:!0,interval:0,rotate:90}},yAxis:{type:"value"},series:[{data:m,type:"line"}]}}})}getYearWiseComparison(){this.service.getYearWise().subscribe({next:n=>{const s=n.data,o=s.values.map(C=>C.month),m=s.values.map(C=>C.previousLoan),p=s.values.map(C=>C.currentLoan);this.yearWiseOverTime=s.totalAmount,this.yearWiseComparison=s.totalPercentage,this.yearWiseChartOption={tooltip:{show:!0},xAxis:{type:"category",data:o,axisLabel:{show:!0,interval:0,rotate:0}},yAxis:{type:"value"},series:[{data:m,type:"bar"},{data:p,type:"bar"}]}}})}getPaymentsDue(){this.service.getPaymentsDue().subscribe({next:n=>{this.paymentDues=n.data}})}float(n){return parseFloat(n)}formatCurrency(n){if(n&&Number(n)>=0){const s=String(n).split("."),o=s[0].replace(/\B(?=(\d{3})+(?!\d))/g,",");let m=".00";return s[1]&&(m="."+s[1].substring(0,2)),o+m}return 0}static \u0275fac=function(s){return new(s||t)(e.GI1(E.yW))};static \u0275cmp=e.In1({type:t,selectors:[["app-dashboard"]],decls:72,vars:13,consts:[[1,"p-2.5"],["nz-row",""],["nz-col","","nzSpan","6",1,"pr-1"],[1,"text-center","rounded-lg","border-2","border-green-800"],[1,"text-md","font-bold","py-3","bg-green-800","text-white"],[1,"text-lg","py-4"],[1,"text-center","rounded-lg","border-2","border-amber-800"],[1,"text-md","font-bold","py-3","bg-amber-800","text-white"],["nz-col","","nzSpan","6"],[1,"text-center","rounded-lg","border-2","border-red-800"],[1,"text-md","font-bold","py-3","bg-red-800","text-white"],["nz-row","",1,"mt-5"],["nz-col","","nzSpan","8",1,"pr-1"],[1,"p-3","flex","justify-start"],[1,"text-left"],[1,"text-xs"],["echarts","",3,"options"],[1,"p-3","flex","justify-between"],[1,"text-left","text-green-500"],[3,"ngClass"],["nz-col","","nzSpan","8"],[3,"nzData","nzPageSize"],["paymentDuesData",""],[4,"ngFor","ngForOf"]],template:function(s,o){if(1&s&&(e.I0R(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),e.OEk(5,"Existing Customers"),e.C$Y(),e.I0R(6,"div",5),e.OEk(7),e.C$Y()()(),e.I0R(8,"div",2)(9,"div",6)(10,"div",7),e.OEk(11,"Ongoing Loans"),e.C$Y(),e.I0R(12,"div",5),e.OEk(13),e.C$Y()()(),e.I0R(14,"div",2)(15,"div",3)(16,"div",4),e.OEk(17,"Today's Payment Received"),e.C$Y(),e.I0R(18,"div",5),e.OEk(19),e.C$Y()()(),e.I0R(20,"div",8)(21,"div",9)(22,"div",10),e.OEk(23,"Overdue Payments"),e.C$Y(),e.I0R(24,"div",5),e.OEk(25),e.C$Y()()()(),e.I0R(26,"div",11)(27,"div",12)(28,"div",3)(29,"div",4),e.OEk(30,"Loan Trends"),e.C$Y(),e.I0R(31,"div",13)(32,"div",14)(33,"div"),e.OEk(34),e.C$Y(),e.I0R(35,"div",15),e.OEk(36," Loans amount over time "),e.C$Y()()(),e.wR5(37,"div",16),e.C$Y()(),e.I0R(38,"div",12)(39,"div",6)(40,"div",7),e.OEk(41,"Year Wise Comparison"),e.C$Y(),e.I0R(42,"div",17)(43,"div",18)(44,"div"),e.OEk(45),e.C$Y(),e.I0R(46,"div",15),e.OEk(47," Loans amount over time "),e.C$Y()(),e.I0R(48,"div",14)(49,"div",19),e.OEk(50),e.C$Y(),e.I0R(51,"div",15),e.OEk(52," Since Last Year "),e.C$Y()()(),e.wR5(53,"div",16),e.C$Y()(),e.I0R(54,"div",20)(55,"div",9)(56,"div",10),e.OEk(57,"Payments Due in 15 Days"),e.C$Y(),e.I0R(58,"nz-table",21,22)(60,"thead")(61,"tr")(62,"th"),e.OEk(63,"Reference Number"),e.C$Y(),e.I0R(64,"th"),e.OEk(65,"Customer Name"),e.C$Y(),e.I0R(66,"th"),e.OEk(67,"Date"),e.C$Y(),e.I0R(68,"th"),e.OEk(69,"Amount"),e.C$Y()()(),e.I0R(70,"tbody"),e.yuY(71,R,9,4,"tr",23),e.C$Y()()()()()()),2&s){const m=e.Gew(59);e.yG2(7),e.cNF(null==o.counts?null:o.counts.existingCustomers),e.yG2(6),e.cNF(null==o.counts?null:o.counts.ongoingLoans),e.yG2(6),e.oRS("\u20b1 ",null==o.counts?null:o.counts.totalPaymentReceived,""),e.yG2(6),e.oRS("\u20b1 ",null==o.counts?null:o.counts.overduePayments,""),e.yG2(9),e.oRS(" \u20b1 ",o.formatCurrency(o.loanTrendsOverTime)," "),e.yG2(3),e.E7m("options",o.loanTrendsChartOption),e.yG2(8),e.oRS(" \u20b1 ",o.formatCurrency(o.yearWiseOverTime)," "),e.yG2(4),e.E7m("ngClass",o.float(o.yearWiseComparison)<0?"text-red-500":"text-green-500"),e.yG2(),e.oRS(" ",o.float(o.yearWiseComparison),"% "),e.yG2(3),e.E7m("options",o.yearWiseChartOption),e.yG2(5),e.E7m("nzData",o.paymentDues)("nzPageSize",6),e.yG2(13),e.E7m("ngForOf",m.data)}},dependencies:[v.QF,v.ay,g.QD,g.ox,d.gZ,d.y6,d.Gk,d.Mp,d.me,d.G0,O.Ql],styles:[".demo-chart[_ngcontent-%COMP%]{height:250px;width:100%;margin-top:-50px;margin-bottom:-30px}"]})}return t})(),data:{breadcrumb:h.m.DASHBOARD}}]}];let c=(()=>{class t{static \u0275fac=function(s){return new(s||t)};static \u0275mod=e.a4G({type:t});static \u0275inj=e.s3X({imports:[l.qQ.forChild(I),l.qQ]})}return t})(),r=(()=>{class t{static \u0275fac=function(s){return new(s||t)};static \u0275mod=e.a4G({type:t});static \u0275inj=e.s3X({imports:[v.MD,c,b.k,O.cP.forChild()]})}return t})()},1296:(A,y,i)=>{i.d(y,{a:()=>I});var v=i(1528),b=i(940),l=i(1780);const h=c=>{const r=[{label:"Home",url:l.o.APP.BASE}];switch(c){case l.m.DASHBOARD:r.push({label:"Dashboard"});break;case l.m.LOAN:r.push({label:"Loan"});break;case l.m.LOAN_DETAILS:r.push({label:"Loan",url:l.o.APP.LOAN},{label:"Details"});break;case l.m.PAYMENT:r.push({label:"Payment"});break;case l.m.EXPENSES:r.push({label:"Expenses"});break;case l.m.REPORTS:r.push({label:"Reports"});break;case l.m.ACCOUNT:r.push({label:"Account Settings"});break;case l.m.ACCOUNTS_USERS:r.push({label:"Accounts"},{label:"Users"});break;case l.m.ACCOUNTS_ROLES:r.push({label:"Accounts"},{label:"Roles"});break;case l.m.ACCOUNTS_ROLES:r.push({label:"Accounts"},{label:"Borrowers"});break;case l.m.MAINTENANCE_INTEREST:r.push({label:"Maintenance"},{label:"Interests"});break;case l.m.MAINTENANCE_TERM:r.push({label:"Maintenance"},{label:"Terms"});break;case l.m.MAINTENANCE_COLLATERAL:r.push({label:"Maintenance"},{label:"Collaterals"});break;case l.m.MAINTENANCE_BANK:r.push({label:"Maintenance"},{label:"Banks"});break;case l.m.OTHERS_SEX:r.push({label:"Others"},{label:"Sex"});break;case l.m.OTHERS_CIVIL_STATUS:r.push({label:"Others"},{label:"Civil Status"})}return r};var e=i(6684),a=i(4496),f=i(1368),E=i(3064),g=i(6088);function d(c,r){if(1&c&&(a.I0R(0,"span",6),a.OEk(1),a.C$Y()),2&c){const t=a.GaO().$implicit;a.yG2(),a.cNF(t.label)}}function O(c,r){if(1&c&&(a.I0R(0,"span",6),a.OEk(1),a.C$Y()),2&c){const t=a.GaO().$implicit,u=a.GaO();a.yG2(),a.cNF(u.label?u.label:t.label)}}function R(c,r){1&c&&(a.I0R(0,"div",7),a.wR5(1,"i",8),a.C$Y())}function T(c,r){if(1&c&&(a.I0R(0,"div",3),a.yuY(1,d,2,1,"span",4)(2,O,2,1,"span",4)(3,R,2,0,"div",5),a.C$Y()),2&c){const t=r.$implicit,u=r.last,n=r.first;a.uQ9("flex align-center ",n?"first":"",""),a.eAK("last",u)("first",n||t.url),a.E7m("routerLink","/"+t.url),a.yG2(),a.E7m("ngIf",!u),a.yG2(),a.E7m("ngIf",u),a.yG2(),a.E7m("ngIf",!u)}}let I=(()=>{class c{route;router;label;updateBreadcrumbEvent;breadcrumbs;eventSubscription;constructor(t,u){this.route=t,this.router=u}ngOnInit(){var t=this;this.configureBreadcrumb(),this.updateBreadcrumbEvent&&(this.eventSubscription=this.updateBreadcrumbEvent.subscribe((0,v.c)(function*(){yield t.configureBreadcrumb()}))),this.initializeBreadcrumb()}configureBreadcrumb(){this.router.events.pipe((0,e.I)(t=>t instanceof b.MT)).subscribe(()=>{this.route.firstChild&&this.route.firstChild.data.subscribe(t=>{this.breadcrumbs=h(t.breadcrumb)})})}initializeBreadcrumb(){this.route.firstChild?this.route.firstChild.data.subscribe(t=>{this.breadcrumbs=h(t.breadcrumb)}):this.route.data.subscribe(t=>{this.breadcrumbs=h(t.breadcrumb)})}static \u0275fac=function(u){return new(u||c)(a.GI1(b.gV),a.GI1(b.E5))};static \u0275cmp=a.In1({type:c,selectors:[["app-breadcrumb"]],inputs:{label:"label",updateBreadcrumbEvent:"updateBreadcrumbEvent"},decls:3,vars:1,consts:[[1,"w-full","pt-1","pl-3"],[1,"flex","justify-start"],[3,"class","last","first","routerLink",4,"ngFor","ngForOf"],[3,"routerLink"],["class","label",4,"ngIf"],["class","flex mx-1 self-center",4,"ngIf"],[1,"label"],[1,"flex","mx-1","self-center"],["nz-icon","","nzType","right","nzTheme","outline"]],template:function(u,n){1&u&&(a.I0R(0,"div",0)(1,"div",1),a.yuY(2,T,4,11,"div",2),a.C$Y()()),2&u&&(a.yG2(2),a.E7m("ngForOf",n.breadcrumbs))},dependencies:[f.ay,f.u_,E.k,g.If,b.ER],styles:[".first[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{cursor:pointer;color:#0064c8}"]})}return c})()}}]);