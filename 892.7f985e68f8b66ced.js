"use strict";(self.webpackChunkprenzavier01_github_io=self.webpackChunkprenzavier01_github_io||[]).push([[892],{4472:(se,U,c)=>{c.d(U,{E:()=>e});const e={naturalNumber:{numeral:!0,numeralPositiveOnly:!0,numeralDecimalMark:"",delimiter:""},decimalNumber:{numeral:!0,numeralDecimalScale:2},zipCode:{numericOnly:!0,blocks:[4]},areaCode:{numericOnly:!0,blocks:[3]},contactNumber:{numericOnly:!0,blocks:[4,4],delimiter:"-"},ext:{numericOnly:!0,blocks:[4]},mobileNumber:{numericOnly:!0,blocks:[13],delimiter:"-",prefix:"+63"},tinNumber:{numericOnly:!0,delimiter:"-",blocks:[3,3,3]},id:{numericOnly:!0,numeralPositiveOnly:!0},amount:{numericOnly:!0,numeralPositiveOnly:!0,numeralDecimalMark:""}}},8768:(se,U,c)=>{c.d(U,{K:()=>i});var e=c(248),z=c(4496),b=c(2328);let i=(()=>{class I{http;constructor(g){this.http=g}getList(g,C,a){let M={};return g&&Object.keys(g).length>0&&Object.assign(M,g),C&&(M.sort=C),this.http.get(e.Cw.LIST,M,a)}getDetails(g,C){return this.http.get(e.Cw.DETAILS(g),null,C)}create(g){return this.http.post(e.Cw.LIST,g)}update(g,C){return this.http.put(e.Cw.DETAILS(g),C)}changestatus(g,C){return this.http.put(e.Cw.STATUS(g),C)}delete(g){return this.http.delete(e.Cw.DETAILS(g))}static \u0275fac=function(C){return new(C||I)(z.CoB(b.hD))};static \u0275prov=z.wxM({token:I,factory:I.\u0275fac,providedIn:"root"})}return I})()},5016:(se,U,c)=>{c.d(U,{E:()=>i});var e=c(248),z=c(4496),b=c(8020);let i=(()=>{class I{http;constructor(g){this.http=g}getList(g,C,a){let M={};return g&&Object.keys(g).length>0&&Object.assign(M,g),C&&(M.sort=C),this.http.get(e.WW.LIST,M,a)}getDetails(g,C){return this.http.get(e.WW.DETAILS(g),null,C)}create(g){return this.http.post(e.WW.LIST,g)}update(g,C){return this.http.put(e.WW.DETAILS(g),C)}changestatus(g,C){return this.http.put(e.WW.STATUS(g),C)}delete(g){return this.http.delete(e.WW.DETAILS(g))}static \u0275fac=function(C){return new(C||I)(z.CoB(b.h))};static \u0275prov=z.wxM({token:I,factory:I.\u0275fac,providedIn:"root"})}return I})()},2892:(se,U,c)=>{c.r(U),c.d(U,{Module:()=>Le});var e=c(1368),z=c(3660),b=c(940),i=c(4496),I=c(1780),x=c(2328),g=c(7176),C=c(248);let a=(()=>{class u{http;constructor(d){this.http=d}getList(){return this.http.get(C.O.LIST,null,!0)}update(d,y){return this.http.put(C.O.DETAILS(d),y)}static \u0275fac=function(y){return new(y||u)(i.CoB(x.hD))};static \u0275prov=i.wxM({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})();var M=c(460),ge=c(3064),he=c(5584),fe=c(6088),oe=c(2532),G=c(1988),R=c(2724),_=c(4080),O=c(5665);function _e(u,k){if(1&u){const d=i.KQA();i.I0R(0,"button",9),i.qCj("click",function(){i.usT(d);const f=i.GaO();return i.CGJ(f.toggleNotifications())}),i.I0R(1,"nz-badge",22),i.wR5(2,"span",23),i.C$Y()()}if(2&u){const d=i.GaO();i.yG2(),i.E7m("nzDot",d.hasNotification)}}function ze(u,k){if(1&u){const d=i.KQA();i.I0R(0,"button",9),i.qCj("click",function(){i.usT(d);const f=i.GaO();return i.CGJ(f.toggleNotifications())}),i.wR5(1,"span",23),i.C$Y()}}function Ce(u,k){if(1&u&&(i.I0R(0,"li",13),i.OEk(1," Loan "),i.C$Y()),2&u){const d=i.GaO();i.E7m("routerLink",d.SITE_LINK.APP.LOAN)}}function ve(u,k){if(1&u&&(i.I0R(0,"li",13),i.OEk(1," Payment "),i.C$Y()),2&u){const d=i.GaO();i.E7m("routerLink",d.SITE_LINK.APP.PAYMENT)}}function ue(u,k){if(1&u&&(i.I0R(0,"li",13),i.OEk(1," Expenses "),i.C$Y()),2&u){const d=i.GaO();i.E7m("routerLink",d.SITE_LINK.APP.EXPENSES)}}function ce(u,k){if(1&u&&(i.I0R(0,"li",26),i.OEk(1,"Users"),i.C$Y()),2&u){const d=i.GaO(2);i.E7m("routerLink",d.SITE_LINK.APP.ACCOUNTS.USERS)}}function me(u,k){if(1&u&&(i.I0R(0,"li",26),i.OEk(1,"Roles"),i.C$Y()),2&u){const d=i.GaO(2);i.E7m("routerLink",d.SITE_LINK.APP.ACCOUNTS.ROLES)}}function de(u,k){if(1&u&&(i.I0R(0,"li",26),i.OEk(1," Borrowers"),i.C$Y()),2&u){const d=i.GaO(2);i.E7m("routerLink",d.SITE_LINK.APP.ACCOUNTS.BORROWERS)}}function Ge(u,k){if(1&u&&(i.I0R(0,"li",24)(1,"ul"),i.yuY(2,ce,2,1,"li",25)(3,me,2,1,"li",25)(4,de,2,1,"li",25),i.C$Y()()),2&u){const d=i.GaO();i.yG2(2),i.E7m("ngIf",null==d.permissions?null:d.permissions.users[0].checked),i.yG2(),i.E7m("ngIf",null==d.permissions?null:d.permissions.roles[0].checked),i.yG2(),i.E7m("ngIf",null==d.permissions?null:d.permissions.borrowers[0].checked)}}function Ee(u,k){if(1&u&&(i.I0R(0,"li",26),i.OEk(1," Interest"),i.C$Y()),2&u){const d=i.GaO(2);i.E7m("routerLink",d.SITE_LINK.APP.MAINTENANCE.INTEREST)}}function ye(u,k){if(1&u&&(i.I0R(0,"li",26),i.OEk(1,"Terms"),i.C$Y()),2&u){const d=i.GaO(2);i.E7m("routerLink",d.SITE_LINK.APP.MAINTENANCE.TERM)}}function Ie(u,k){if(1&u&&(i.I0R(0,"li",26),i.OEk(1,"Banks"),i.C$Y()),2&u){const d=i.GaO(2);i.E7m("routerLink",d.SITE_LINK.APP.MAINTENANCE.BANK)}}function be(u,k){if(1&u&&(i.I0R(0,"li",27)(1,"ul"),i.yuY(2,Ee,2,1,"li",25)(3,ye,2,1,"li",25)(4,Ie,2,1,"li",25),i.C$Y()()),2&u){const d=i.GaO();i.yG2(2),i.E7m("ngIf",null==d.permissions?null:d.permissions.interests[0].checked),i.yG2(),i.E7m("ngIf",null==d.permissions?null:d.permissions.terms[0].checked),i.yG2(),i.E7m("ngIf",null==d.permissions?null:d.permissions.banks[0].checked)}}function ke(u,k){if(1&u&&(i.I0R(0,"li",26),i.OEk(1,"Sex"),i.C$Y()),2&u){const d=i.GaO(2);i.E7m("routerLink",d.SITE_LINK.APP.OTHERS.SEX)}}function xe(u,k){if(1&u&&(i.I0R(0,"li",26),i.OEk(1," Civil Status"),i.C$Y()),2&u){const d=i.GaO(2);i.E7m("routerLink",d.SITE_LINK.APP.OTHERS.CIVIL_STATUS)}}function Te(u,k){if(1&u&&(i.I0R(0,"li",28)(1,"ul"),i.yuY(2,ke,2,1,"li",25)(3,xe,2,1,"li",25),i.C$Y()()),2&u){const d=i.GaO();i.yG2(2),i.E7m("ngIf",null==d.permissions?null:d.permissions.sex[0].checked),i.yG2(),i.E7m("ngIf",null==d.permissions?null:d.permissions.civilstatus[0].checked)}}function Oe(u,k){if(1&u){const d=i.KQA();i.I0R(0,"li",30),i.qCj("click",function(){const V=i.usT(d).$implicit,j=i.GaO(2);return i.CGJ(j.changeNotifStatus(V.id))}),i.I0R(1,"nz-badge",22)(2,"div",31),i.OEk(3),i.C$Y()(),i.I0R(4,"div",32),i.OEk(5),i.C$Y(),i.I0R(6,"div",33),i.OEk(7),i.C$Y()()}if(2&u){const d=k.$implicit;i.yG2(),i.E7m("nzDot","Unread"==d.status),i.yG2(2),i.cNF(d.details.referenceNumber),i.yG2(2),i.cNF(d.details.message),i.yG2(2),i.cNF(d.dateCreated)}}function Re(u,k){if(1&u&&(i.SAx(0),i.I0R(1,"ul"),i.yuY(2,Oe,8,4,"li",29),i.C$Y(),i.k70()),2&u){const d=i.GaO();i.yG2(2),i.E7m("ngForOf",d.notifications)}}function Se(u,k){if(1&u){const d=i.KQA();i.I0R(0,"div",34)(1,"div",35)(2,"div",36)(3,"div",37),i.wR5(4,"img",38),i.C$Y(),i.I0R(5,"div",39)(6,"div",32),i.OEk(7),i.C$Y(),i.I0R(8,"div",40),i.OEk(9),i.C$Y()()()(),i.I0R(10,"div",41)(11,"div",36)(12,"button",42),i.qCj("click",function(){i.usT(d);const f=i.GaO();return i.CGJ(f.logout())}),i.OEk(13," LOGOUT "),i.C$Y()()()()}if(2&u){const d=i.GaO();i.yG2(4),i.E7m("src",d.adminSample,i.K6U),i.yG2(3),i.oRS(" ",null==d.currentUser?null:d.currentUser.name," "),i.yG2(2),i.oRS(" ",null==d.currentUser?null:d.currentUser.role," ")}}function Me(u,k){1&u&&i.wR5(0,"span",43)}let we=(()=>{class u{router;document;appService;authService;dialogService;toastService;notificationService;constructor(d,y,f,V,j,Be,Fe){this.router=d,this.document=y,this.appService=f,this.authService=V,this.dialogService=j,this.toastService=Be,this.notificationService=Fe}imeLogo="../../../../../assets/images/logo.png";adminSample="../../../../../assets/images/admin-sample.png";SITE_LINK=I.o;isAccountOpen=!1;isFullScreen=!1;routeSub;elem;currentUser;ngOnInit(){this.getNotifications(),this.getPermissions(),this.currentUser=this.appService.getAccount(),this.elem=document.documentElement}permissions;getPermissions(){this.permissions=this.appService.getPermissions()}toggleAccount(){this.isAccountOpen=!this.isAccountOpen}closeAccount(){this.isAccountOpen=!1}logout(){this.authService.logout().subscribe({next:d=>{this.toastService.show("success","Logout",d.message),sessionStorage.clear(),this.router.navigate(["/auth"])},error:({error:d})=>{this.toastService.show("error","Logout",d.message,3e3)}})}notifVisible=!1;hasNotification=!1;toggleNotifications(){this.notifVisible=!this.notifVisible}notifications=[];getNotifications(){this.notificationService.getList().subscribe({next:d=>{this.notifications=d.data,this.notifications.length>0&&(this.notifications.filter(f=>"Unread"==f.status).length>0?(this.hasNotification=!0,this.toastService.show("info","Notifications","You have unseen notifications.",5e3,"top")):this.hasNotification=!1)}})}changeNotifStatus(d){this.notificationService.update(d,{status:"Read"}).subscribe({next:y=>{this.getNotifications(),this.router.navigate([I.o.APP.LOAN])}})}toggleFullScreen(){this.isFullScreen?this.closeFullscreen():this.openFullscreen(),this.isFullScreen=!this.isFullScreen}openFullscreen(){this.elem.requestFullscreen?this.elem.requestFullscreen():this.elem.mozRequestFullScreen?this.elem.mozRequestFullScreen():this.elem.webkitRequestFullscreen?this.elem.webkitRequestFullscreen():this.elem.msRequestFullscreen&&this.elem.msRequestFullscreen()}closeFullscreen(){this.document.exitFullscreen?this.document.exitFullscreen():this.document.mozCancelFullScreen?this.document.mozCancelFullScreen():this.document.webkitExitFullscreen?this.document.webkitExitFullscreen():this.document.msExitFullscreen&&this.document.msExitFullscreen()}static \u0275fac=function(y){return new(y||u)(i.GI1(b.E5),i.GI1(e.Ud),i.GI1(x.ye),i.GI1(x.oj),i.GI1(g.E),i.GI1(x.s9),i.GI1(a))};static \u0275cmp=i.In1({type:u,selectors:[["app-header"]],decls:36,vars:21,consts:[[1,"w-full","fixed","top-0","z-50"],["nz-row","",1,"bg-white"],["nz-col","","nzSpan","12",1,"flex","justify-start"],["role","button",3,"routerLink"],["alt","",1,"h-10",3,"src"],["nz-col","","nzSpan","12"],[1,"mt-1","flex","justify-end"],["nz-button","","nzType","text",3,"click",4,"ngIf"],["id","accountMenu","nz-button","","nzType","text","nz-popover","","nzPopoverTrigger","click","nzPopoverPlacement","bottom",3,"nzPopoverContent","nzPopoverOverlayClassName","nzPopoverVisible","nzPopoverVisibleChange"],["nz-button","","nzType","text",3,"click"],["nz-icon","","nzTheme","outline",3,"nzType"],["nz-row","",1,"bg-primary-dark","flex","justify-between"],["nz-menu","","nzMode","horizontal","nzTheme","dark"],["nz-menu-item","","routerLinkActive","active-link",3,"routerLink"],["nz-menu-item","","routerLinkActive","active-link",3,"routerLink",4,"ngIf"],["nz-submenu","","nzPlacement","bottomRight","nzTitle","Accounts","routerLinkActive","active-link",4,"ngIf"],["nz-submenu","","nzPlacement","bottomRight","nzTitle","Maintenance","routerLinkActive","active-link",4,"ngIf"],["nz-submenu","","nzPlacement","bottomRight","nzTitle","Others","routerLinkActive","active-link",4,"ngIf"],["nzPlacement","right","nzTitle","Notifications",3,"nzClosable","nzVisible","nzOnClose"],[4,"nzDrawerContent"],["accountTemplate",""],["iconTemplate",""],[3,"nzDot"],["nz-icon","","nzType","bell"],["nz-submenu","","nzPlacement","bottomRight","nzTitle","Accounts","routerLinkActive","active-link"],["nz-menu-item","",3,"routerLink",4,"ngIf"],["nz-menu-item","",3,"routerLink"],["nz-submenu","","nzPlacement","bottomRight","nzTitle","Maintenance","routerLinkActive","active-link"],["nz-submenu","","nzPlacement","bottomRight","nzTitle","Others","routerLinkActive","active-link"],["class","mb-3 hover:bg-gray-300 hover:cursor-pointer",3,"click",4,"ngFor","ngForOf"],[1,"mb-3","hover:bg-gray-300","hover:cursor-pointer",3,"click"],[1,"text-md","font-bold"],[1,"text-base"],[1,"mt-1","text-xs","text-right","text-gray","border-b","border-black"],[1,"p-2.5"],["nz-row",""],["nz-col","","nzSpan","24"],[1,"flex","justify-center"],["alt","",1,"w-12","h-12",3,"src"],[1,"text-center"],[1,"text-sm"],["nz-row","",1,"py-1"],["id","logoutButton","nz-button","","nzType","primary",1,"rounded-xl","w-full","text-primary",3,"click"],["nz-icon","","nzType","mail",1,"font-red"]],template:function(y,f){if(1&y&&(i.I0R(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),i.wR5(4,"img",4),i.C$Y()(),i.I0R(5,"div",5)(6,"div",6)(7,"span"),i.yuY(8,_e,3,1,"button",7)(9,ze,2,0,"button",7),i.C$Y(),i.I0R(10,"span")(11,"button",8),i.iHE("nzPopoverVisibleChange",function(j){return i.kNx(f.isAccountOpen,j)||(f.isAccountOpen=j),j}),i.OEk(12),i.wVc(13,"uppercase"),i.C$Y()(),i.I0R(14,"span")(15,"button",9),i.qCj("click",function(){return f.toggleFullScreen()}),i.wR5(16,"i",10),i.C$Y()()()()(),i.I0R(17,"div",11)(18,"ul",12)(19,"li",13),i.OEk(20," Dashboard "),i.C$Y(),i.yuY(21,Ce,2,1,"li",14)(22,ve,2,1,"li",14)(23,ue,2,1,"li",14),i.I0R(24,"li",13),i.OEk(25," Reports "),i.C$Y()(),i.I0R(26,"ul",12),i.yuY(27,Ge,5,3,"li",15)(28,be,5,3,"li",16)(29,Te,4,2,"li",17),i.C$Y()()(),i.I0R(30,"nz-drawer",18),i.qCj("nzOnClose",function(){return f.toggleNotifications()}),i.yuY(31,Re,3,1,"ng-container",19),i.C$Y(),i.yuY(32,Se,14,3,"ng-template",null,20,i.gJz)(34,Me,1,0,"ng-template",null,21,i.gJz)),2&y){const V=i.Gew(33);i.yG2(3),i.E7m("routerLink",f.SITE_LINK.APP.DASHBOARD),i.yG2(),i.E7m("src",f.imeLogo,i.K6U),i.yG2(4),i.E7m("ngIf",f.hasNotification),i.yG2(),i.E7m("ngIf",!f.hasNotification),i.yG2(2),i.E7m("nzPopoverContent",V)("nzPopoverOverlayClassName","account-header"),i.OKB("nzPopoverVisible",f.isAccountOpen),i.yG2(),i.oRS("WELCOME ",i.kDX(13,19,null==f.currentUser?null:f.currentUser.name),""),i.yG2(4),i.E7m("nzType",f.isFullScreen?"fullscreen-exit":"fullscreen"),i.yG2(3),i.E7m("routerLink",f.SITE_LINK.APP.DASHBOARD),i.yG2(2),i.E7m("ngIf",null==f.permissions?null:f.permissions.loans[0].checked),i.yG2(),i.E7m("ngIf",null==f.permissions?null:f.permissions.payments[0].checked),i.yG2(),i.E7m("ngIf",null==f.permissions?null:f.permissions.expenses[0].checked),i.yG2(),i.E7m("routerLink",f.SITE_LINK.APP.REPORTS),i.yG2(3),i.E7m("ngIf",(null==f.permissions?null:f.permissions.users[0].checked)&&(null==f.permissions?null:f.permissions.roles[0].checked)&&(null==f.permissions?null:f.permissions.borrowers[0].checked)),i.yG2(),i.E7m("ngIf",(null==f.permissions?null:f.permissions.interests[0].checked)&&(null==f.permissions?null:f.permissions.terms[0].checked)&&(null==f.permissions?null:f.permissions.banks[0].checked)),i.yG2(),i.E7m("ngIf",(null==f.permissions?null:f.permissions.sex[0].checked)&&(null==f.permissions?null:f.permissions.civilstatus[0].checked)),i.yG2(),i.E7m("nzClosable",!1)("nzVisible",f.notifVisible)}},dependencies:[e.ay,e.u_,M.Ez,ge.k,he.o9,fe.If,oe.QD,oe.ox,G.tN,G.OM,G.q0,R.Er,_.r_,O.Mb,O.oF,b.ER,b.LC,e.yG],styles:[".active-link[_ngcontent-%COMP%]{background-color:#1890ff;color:#fff}"]})}return u})(),Ne=(()=>{class u{constructor(){}ngOnInit(){}static \u0275fac=function(y){return new(y||u)};static \u0275cmp=i.In1({type:u,selectors:[["app-footer"]],decls:9,vars:0,consts:[[1,"w-full","fixed","bottom-0","z-50"],["nz-row","",1,"bg-primary","p-2"],["nz-col","","nzSpan","24",1,"flex","justify-between","text-white"],[1,"text-secondary"]],template:function(y,f){1&y&&(i.I0R(0,"div",0)(1,"div",1)(2,"div",2)(3,"span"),i.OEk(4,"Loan Management System"),i.C$Y(),i.I0R(5,"span"),i.OEk(6," Powered By: "),i.I0R(7,"span",3),i.OEk(8,"Dalig Lending Investor Corp."),i.C$Y()()()()())},dependencies:[oe.QD,oe.ox]})}return u})();const ae=[{path:"",component:(()=>{class u{constructor(){}ngOnInit(){}static \u0275fac=function(y){return new(y||u)};static \u0275cmp=i.In1({type:u,selectors:[["app-layout"]],decls:4,vars:0,consts:[[1,"pt-24","pb-12"]],template:function(y,f){1&y&&(i.wR5(0,"app-header"),i.I0R(1,"section",0),i.wR5(2,"router-outlet"),i.C$Y(),i.wR5(3,"app-footer"))},dependencies:[b.cP,we,Ne]})}return u})(),children:[{path:"",pathMatch:"full",redirectTo:"dashboard"},{path:"dashboard",loadChildren:()=>c.e(696).then(c.bind(c,6696)).then(u=>u.Module)},{path:"loan",loadChildren:()=>Promise.all([c.e(268),c.e(384)]).then(c.bind(c,8384)).then(u=>u.Module)},{path:"expenses",loadChildren:()=>Promise.all([c.e(268),c.e(528)]).then(c.bind(c,1148)).then(u=>u.Module)},{path:"payment",loadChildren:()=>c.e(656).then(c.bind(c,7656)).then(u=>u.Module)},{path:"reports",loadChildren:()=>Promise.all([c.e(268),c.e(496)]).then(c.bind(c,4116)).then(u=>u.Module)},{path:"accounts",loadChildren:()=>Promise.all([c.e(268),c.e(40)]).then(c.bind(c,5660)).then(u=>u.Module)},{path:"maintenance",loadChildren:()=>Promise.all([c.e(268),c.e(330)]).then(c.bind(c,5330)).then(u=>u.Module)},{path:"others",loadChildren:()=>Promise.all([c.e(268),c.e(948)]).then(c.bind(c,6330)).then(u=>u.Module)}]}];let re=(()=>{class u{static \u0275fac=function(y){return new(y||u)};static \u0275mod=i.a4G({type:u});static \u0275inj=i.s3X({imports:[b.qQ.forChild(ae),b.qQ]})}return u})(),Le=(()=>{class u{static \u0275fac=function(y){return new(y||u)};static \u0275mod=i.a4G({type:u});static \u0275inj=i.s3X({imports:[e.MD,re,z.k]})}return u})()},7176:(se,U,c)=>{c.d(U,{E:()=>Ke});var e=c(4496),z=c(1496),b=c(1368),i=c(460),I=c(3064),x=c(5584),g=c(2532),C=c(268),a=c(4716);function M(o,s){if(1&o&&e.wR5(0,"nz-option",3),2&o){const t=s.$implicit;e.E7m("nzValue",t)("nzLabel",t)}}function ge(o,s){if(1&o){const t=e.KQA();e.I0R(0,"div")(1,"div",4)(2,"div",5)(3,"button",6),e.qCj("click",function(){e.usT(t);const n=e.GaO();return e.CGJ(n.close())}),e.OEk(4,"CANCEL"),e.C$Y(),e.I0R(5,"button",7),e.qCj("click",function(){e.usT(t);const n=e.GaO();return e.CGJ(n.submit())}),e.OEk(6,"SUBMIT"),e.C$Y()()()()}}let he=(()=>{class o{dialogRef;constructor(t){this.dialogRef=t}statusSelect="";data=[];ngOnInit(){this.data=this.dialogRef.getConfig().nzData}submit(){this.dialogRef.close({event:"close",data:{status:this.statusSelect}})}close(){this.dialogRef.close({event:"close",data:!1})}static \u0275fac=function(r){return new(r||o)(e.GI1(z.U7))};static \u0275cmp=e.In1({type:o,selectors:[["app-dialog-change-status"]],decls:5,vars:2,consts:[[1,"w-full",3,"ngModel","ngModelChange"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],[4,"nzModalFooter"],[3,"nzValue","nzLabel"],["nz-row",""],["nz-col","","nzSpan","24",1,"flex","justify-between"],["nz-button","",1,"bg-grey-light","rounded-xl","text-white",3,"click"],["nz-button","",1,"bg-primary","rounded-xl","text-white",3,"click"]],template:function(r,n){1&r&&(e.I0R(0,"h6"),e.OEk(1,"Select Status:"),e.C$Y(),e.I0R(2,"nz-select",0),e.iHE("ngModelChange",function(m){return e.kNx(n.statusSelect,m)||(n.statusSelect=m),m}),e.yuY(3,M,1,2,"nz-option",1),e.C$Y(),e.yuY(4,ge,7,0,"div",2)),2&r&&(e.yG2(2),e.OKB("ngModel",n.statusSelect),e.yG2(),e.E7m("ngForOf",n.data))},dependencies:[b.ay,i.Ez,I.k,x.o9,g.QD,g.ox,C.eE,C.Mh,z.SW,a.ue,a._G],styles:[".card-header[_ngcontent-%COMP%]{background-color:#000;color:#ffef80;display:flex;justify-content:space-between}h5[_ngcontent-%COMP%]{padding-top:10px}"]})}return o})();function fe(o,s){if(1&o){const t=e.KQA();e.I0R(0,"div")(1,"div",1)(2,"div",2)(3,"button",3),e.qCj("click",function(){e.usT(t);const n=e.GaO();return e.CGJ(n.close())}),e.OEk(4,"CANCEL"),e.C$Y(),e.I0R(5,"button",4),e.qCj("click",function(){e.usT(t);const n=e.GaO();return e.CGJ(n.submit())}),e.OEk(6,"SUBMIT"),e.C$Y()()()()}}let oe=(()=>{class o{dialogRef;constructor(t){this.dialogRef=t}data;ngOnInit(){this.data=this.dialogRef.getConfig().nzData}submit(){this.dialogRef.close({event:"close",data:!0})}close(){this.dialogRef.close({event:"close",data:!1})}static \u0275fac=function(r){return new(r||o)(e.GI1(z.U7))};static \u0275cmp=e.In1({type:o,selectors:[["app-dialog-confirm"]],decls:3,vars:1,consts:[[4,"nzModalFooter"],["nz-row",""],["nz-col","","nzSpan","24",1,"flex","justify-between"],["nz-button","",1,"bg-grey-light","rounded-xl","text-white",3,"click"],["nz-button","",1,"bg-primary","rounded-xl","text-white",3,"click"]],template:function(r,n){1&r&&(e.I0R(0,"h4"),e.OEk(1),e.C$Y(),e.yuY(2,fe,7,0,"div",0)),2&r&&(e.yG2(),e.cNF(n.data))},dependencies:[i.Ez,I.k,x.o9,g.QD,g.ox,z.SW],styles:[".card-header[_ngcontent-%COMP%]{background-color:#000;color:#ffef80;display:flex;justify-content:space-between}h5[_ngcontent-%COMP%]{padding-top:10px}"]})}return o})();var G=c(2328),R=c(6088),_=c(2605),O=c(8472);function _e(o,s){if(1&o){const t=e.KQA();e.I0R(0,"div")(1,"div",1)(2,"div",8)(3,"button",9),e.qCj("click",function(){e.usT(t);const n=e.GaO();return e.CGJ(n.close())}),e.OEk(4,"CANCEL"),e.C$Y(),e.I0R(5,"button",10),e.qCj("click",function(){e.usT(t);const n=e.GaO();return e.CGJ(n.submit())}),e.OEk(6,"SUBMIT"),e.C$Y()()()()}if(2&o){const t=e.GaO();e.yG2(5),e.E7m("disabled",t.formGroup.invalid)}}function ze(o,s){1&o&&e.wR5(0,"i",11)}function Ce(o,s){1&o&&e.wR5(0,"i",12)}let ve=(()=>{class o{dialogRef;service;toastService;_formBuilder;constructor(t,r,n,l){this.dialogRef=t,this.service=r,this.toastService=n,this._formBuilder=l}formGroup;data;ngOnInit(){this.formGroup=this._formBuilder.group({name:["",a.AQ.required]}),this.data=this.dialogRef.getConfig().nzData,this.data&&this.initData()}initData(){this.formGroup.patchValue({name:this.data.name})}submit(){this.data?this.service.update(this.data.id,this.formGroup.value).subscribe({next:t=>{this.toastService.show("success","Banks",t.message),this.dialogRef.close({event:"close",data:!0})},error:t=>{this.toastService.show("error","Banks",t.message)}}):this.service.create(this.formGroup.value).subscribe({next:t=>{this.toastService.show("success","Banks",t.message),this.dialogRef.close({event:"close",data:!0})},error:t=>{this.toastService.show("error","Banks",t.message)}})}close(){this.dialogRef.close({event:"close",data:!1})}static \u0275fac=function(r){return new(r||o)(e.GI1(z.U7),e.GI1(G.AX),e.GI1(G.s9),e.GI1(a.im))};static \u0275cmp=e.In1({type:o,selectors:[["app-dialog-manage-banks"]],decls:12,vars:3,consts:[[3,"formGroup"],["nz-row",""],["nz-col","","nzSpan","24"],[3,"nzPrefix","nzStatus"],["nz-input","","type","text","nz-input","","formControlName","name"],[4,"nzModalFooter"],["prefixTemplateCheck",""],["prefixTemplateError",""],["nz-col","","nzSpan","24",1,"flex","justify-between"],["nz-button","",1,"bg-grey-light","rounded-xl","text-white",3,"click"],["nz-button","",1,"bg-primary","rounded-xl","text-white","disabled:bg-grey",3,"disabled","click"],["nz-icon","","nzType","check-circle","nzTheme","outline",1,"text-green-600"],["nz-icon","","nzType","exclamation-circle","nzTheme","outline","nzTooltipTitle","Invalid Input!","nzTooltipPlacement","bottom","nz-tooltip","",1,"text-red-600"]],template:function(r,n){if(1&r&&(e.I0R(0,"form",0)(1,"div",1)(2,"div",2)(3,"h5"),e.OEk(4,"Name"),e.C$Y(),e.I0R(5,"nz-input-group",3),e.wR5(6,"input",4),e.C$Y()()()(),e.yuY(7,_e,7,1,"div",5)(8,ze,1,0,"ng-template",null,6,e.gJz)(10,Ce,1,0,"ng-template",null,7,e.gJz)),2&r){const l=e.Gew(9),m=e.Gew(11);let p,h;e.E7m("formGroup",n.formGroup),e.yG2(5),e.E7m("nzPrefix",null!=(p=n.formGroup.get("name"))&&p.hasError("required")?m:l)("nzStatus",null!=(h=n.formGroup.get("name"))&&h.hasError("required")?"error":"")}},dependencies:[i.Ez,I.k,x.o9,R.If,g.QD,g.ox,_.cv,_.qG,_.sj,O.qG,z.SW,a.sz,a.ot,a.ue,a.u,a.uW,a.Wo]})}return o})();var ue=c(4472),ce=c(8768),me=c(7540),de=c(2396);function Ge(o,s){if(1&o&&e.wR5(0,"nz-option",27),2&o){const t=s.$implicit;e.E7m("nzValue",t.id)("nzLabel",t.name)}}function Ee(o,s){if(1&o&&e.wR5(0,"nz-option",27),2&o){const t=s.$implicit;e.E7m("nzValue",t.id)("nzLabel",t.name)}}function ye(o,s){if(1&o){const t=e.KQA();e.I0R(0,"div")(1,"div",1)(2,"div",28)(3,"button",29),e.qCj("click",function(){e.usT(t);const n=e.GaO();return e.CGJ(n.close())}),e.OEk(4,"CANCEL"),e.C$Y(),e.I0R(5,"button",30),e.qCj("click",function(){e.usT(t);const n=e.GaO();return e.CGJ(n.submit())}),e.OEk(6,"SUBMIT"),e.C$Y()()()()}if(2&o){const t=e.GaO();e.yG2(5),e.E7m("disabled",t.formGroup.invalid)}}function Ie(o,s){1&o&&e.wR5(0,"i",31)}function be(o,s){1&o&&e.wR5(0,"i",32)}let ke=(()=>{class o{dialogRef;service;sexService;civilStatusService;toastService;_formBuilder;constructor(t,r,n,l,m,p){this.dialogRef=t,this.service=r,this.sexService=n,this.civilStatusService=l,this.toastService=m,this._formBuilder=p}CLEAVE_CONFIG=ue.E;formGroup;data=[];ngOnInit(){this.getSex(),this.getCivilStatus(),this.formGroup=this._formBuilder.group({lastName:["",a.AQ.required],firstName:["",a.AQ.required],middleName:["",a.AQ.required],birthDate:["",a.AQ.required],age:["",a.AQ.required],sexId:["",a.AQ.required],civilStatusId:["",a.AQ.required],spouse:["",a.AQ.required],spouseOccupation:["",a.AQ.required],address:["",a.AQ.required],city:["",a.AQ.required],province:["",a.AQ.required],zipCode:["",a.AQ.required],contactNumber:["",a.AQ.required],occupation:["",a.AQ.required],tinNumber:["",a.AQ.required]}),this.data=this.dialogRef.getConfig().nzData}ngAfterViewInit(){this.data&&this.initData()}initData(){const t=this.data;this.formGroup.patchValue({lastName:t.lastName,firstName:t.firstName,middleName:t.middleName,birthDate:new Date(t.birthDate),age:t.age,sexId:t.sexId,civilStatusId:t.civilStatusId,spouse:t.spouse,spouseOccupation:t.spouseOccupation,address:t.address,city:t.city,province:t.province,zipCode:t.zipCode,contactNumber:t.contactNumber,occupation:t.occupation,tinNumber:t.tinNumber})}submit(){this.data?this.service.update(this.data.id,this.formGroup.value).subscribe({next:t=>{this.toastService.show("success","Borrowers",t.message),this.dialogRef.close({event:"close",data:!0})},error:t=>{this.toastService.show("error","Borrowers",t.message)}}):this.service.create(this.formGroup.value).subscribe({next:t=>{this.toastService.show("success","Borrowers",t.message),this.dialogRef.close({event:"close",data:!0})},error:t=>{this.toastService.show("error","Borrowers",t.message)}})}close(){this.dialogRef.close({event:"close",data:!1})}sex=[];getSex(){this.sexService.getList(null,null,!0).subscribe({next:t=>{this.sex=t.data}})}civilstatus=[];getCivilStatus(){this.civilStatusService.getList(null,null,!0).subscribe({next:t=>{this.civilstatus=t.data}})}static \u0275fac=function(r){return new(r||o)(e.GI1(z.U7),e.GI1(ce.K),e.GI1(G.C_),e.GI1(G.Ax),e.GI1(G.s9),e.GI1(a.im))};static \u0275cmp=e.In1({type:o,selectors:[["app-dialog-manage-borrowers"]],decls:91,vars:36,consts:[[3,"formGroup"],["nz-row",""],["nz-col","","nzSpan","8",1,"pr-1"],[3,"nzPrefix","nzStatus"],["nz-input","","type","text","nz-input","","formControlName","lastName"],["nz-input","","type","text","nz-input","","formControlName","firstName"],["nz-col","","nzSpan","8"],["nz-input","","type","text","nz-input","","formControlName","middleName"],["nz-row","",1,"mt-1"],["formControlName","birthDate",1,"w-full",3,"nzStatus","nzMode"],["nz-input","","type","number","nz-input","","formControlName","age"],["formControlName","sexId",1,"w-full",3,"nzStatus"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["formControlName","civilStatusId",1,"w-full",3,"nzStatus"],["nz-input","","type","text","nz-input","","formControlName","spouse"],["nz-input","","type","text","nz-input","","formControlName","spouseOccupation"],["nz-col","","nzSpan","24"],["nz-input","","type","text","nz-input","","formControlName","address"],["nz-input","","type","text","nz-input","","formControlName","city"],["nz-input","","type","text","nz-input","","formControlName","province"],["nz-input","","type","number","nz-input","","formControlName","zipCode",3,"cleave"],["nz-input","","type","text","nz-input","","formControlName","contactNumber",3,"cleave"],["nz-input","","type","text","nz-input","","formControlName","occupation"],["nz-input","","type","text","nz-input","","formControlName","tinNumber",3,"cleave"],[4,"nzModalFooter"],["prefixTemplateCheck",""],["prefixTemplateError",""],[3,"nzValue","nzLabel"],["nz-col","","nzSpan","24",1,"flex","justify-between"],["nz-button","",1,"bg-grey-light","rounded-xl","text-white",3,"click"],["nz-button","",1,"bg-primary","rounded-xl","text-white","disabled:bg-grey",3,"disabled","click"],["nz-icon","","nzType","check-circle","nzTheme","outline",1,"text-green-600"],["nz-icon","","nzType","exclamation-circle","nzTheme","outline","nzTooltipTitle","Invalid Input!","nzTooltipPlacement","bottom","nz-tooltip","",1,"text-red-600"]],template:function(r,n){if(1&r&&(e.I0R(0,"form",0)(1,"div",1)(2,"div",2)(3,"h5"),e.OEk(4,"Last Name"),e.C$Y(),e.I0R(5,"nz-input-group",3),e.wR5(6,"input",4),e.C$Y()(),e.I0R(7,"div",2)(8,"h5"),e.OEk(9,"First Name"),e.C$Y(),e.I0R(10,"nz-input-group",3),e.wR5(11,"input",5),e.C$Y()(),e.I0R(12,"div",6)(13,"h5"),e.OEk(14,"Middle Initial"),e.C$Y(),e.I0R(15,"nz-input-group",3),e.wR5(16,"input",7),e.C$Y()()(),e.I0R(17,"div",8)(18,"div",2)(19,"h5"),e.OEk(20,"Birth Date"),e.C$Y(),e.wR5(21,"nz-date-picker",9),e.C$Y(),e.I0R(22,"div",2)(23,"h5"),e.OEk(24,"Age"),e.C$Y(),e.I0R(25,"nz-input-group",3),e.wR5(26,"input",10),e.C$Y()(),e.I0R(27,"div",6)(28,"h5"),e.OEk(29,"Sex"),e.C$Y(),e.I0R(30,"nz-select",11),e.yuY(31,Ge,1,2,"nz-option",12),e.C$Y()()(),e.I0R(32,"div",8)(33,"div",2)(34,"h5"),e.OEk(35,"Civil Status"),e.C$Y(),e.I0R(36,"nz-select",13),e.yuY(37,Ee,1,2,"nz-option",12),e.C$Y()(),e.I0R(38,"div",2)(39,"h5"),e.OEk(40,"Spouse"),e.C$Y(),e.I0R(41,"nz-input-group",3),e.wR5(42,"input",14),e.C$Y()(),e.I0R(43,"div",6)(44,"h5"),e.OEk(45,"Spouse Occupation"),e.C$Y(),e.I0R(46,"nz-input-group",3),e.wR5(47,"input",15),e.C$Y()()(),e.I0R(48,"div",1)(49,"div",16)(50,"h5"),e.OEk(51,"Address"),e.C$Y(),e.I0R(52,"nz-input-group",3),e.wR5(53,"input",17),e.C$Y()()(),e.I0R(54,"div",8)(55,"div",2)(56,"h5"),e.OEk(57,"Municipality"),e.C$Y(),e.I0R(58,"nz-input-group",3),e.wR5(59,"input",18),e.C$Y()(),e.I0R(60,"div",2)(61,"h5"),e.OEk(62,"Province"),e.C$Y(),e.I0R(63,"nz-input-group",3),e.wR5(64,"input",19),e.C$Y()(),e.I0R(65,"div",6)(66,"h5"),e.OEk(67,"Zip Code"),e.C$Y(),e.I0R(68,"nz-input-group",3),e.wR5(69,"input",20),e.C$Y()()(),e.I0R(70,"div",8)(71,"div",2)(72,"h5"),e.OEk(73,"Contact No."),e.C$Y(),e.I0R(74,"nz-input-group",3),e.wR5(75,"input",21),e.C$Y()(),e.I0R(76,"div",2)(77,"h5"),e.OEk(78,"Occupation"),e.C$Y(),e.I0R(79,"nz-input-group",3),e.wR5(80,"input",22),e.C$Y()(),e.I0R(81,"div",6)(82,"h5"),e.OEk(83,"TIN No."),e.C$Y(),e.I0R(84,"nz-input-group",3),e.wR5(85,"input",23),e.C$Y()()()(),e.yuY(86,ye,7,1,"div",24)(87,Ie,1,0,"ng-template",null,25,e.gJz)(89,be,1,0,"ng-template",null,26,e.gJz)),2&r){const l=e.Gew(88),m=e.Gew(90);let p,h,v,E,T,S,w,N,D,Y,$,A,P,q,L,B,F,Q,K,J,H,W,X,Z,ee,te,ne,le,Je;e.E7m("formGroup",n.formGroup),e.yG2(5),e.E7m("nzPrefix",null!=(p=n.formGroup.get("lastName"))&&p.hasError("required")?m:l)("nzStatus",null!=(h=n.formGroup.get("lastName"))&&h.hasError("required")?"error":""),e.yG2(5),e.E7m("nzPrefix",null!=(v=n.formGroup.get("firstName"))&&v.hasError("required")?m:l)("nzStatus",null!=(E=n.formGroup.get("firstName"))&&E.hasError("required")?"error":""),e.yG2(5),e.E7m("nzPrefix",null!=(T=n.formGroup.get("middleName"))&&T.hasError("required")?m:l)("nzStatus",null!=(S=n.formGroup.get("middleName"))&&S.hasError("required")?"error":""),e.yG2(6),e.E7m("nzStatus",null!=(w=n.formGroup.get("birthDate"))&&w.hasError("required")?"error":"")("nzMode","date"),e.yG2(4),e.E7m("nzPrefix",null!=(N=n.formGroup.get("age"))&&N.hasError("required")?m:l)("nzStatus",null!=(D=n.formGroup.get("age"))&&D.hasError("required")?"error":""),e.yG2(5),e.E7m("nzStatus",null!=(Y=n.formGroup.get("sexId"))&&Y.hasError("required")?"error":""),e.yG2(),e.E7m("ngForOf",n.sex),e.yG2(5),e.E7m("nzStatus",null!=($=n.formGroup.get("civilStatusId"))&&$.hasError("required")?"error":""),e.yG2(),e.E7m("ngForOf",n.civilstatus),e.yG2(4),e.E7m("nzPrefix",null!=(A=n.formGroup.get("spouse"))&&A.hasError("required")?m:l)("nzStatus",null!=(P=n.formGroup.get("spouse"))&&P.hasError("required")?"error":""),e.yG2(5),e.E7m("nzPrefix",null!=(q=n.formGroup.get("spouseOccupation"))&&q.hasError("required")?m:l)("nzStatus",null!=(L=n.formGroup.get("spouseOccupation"))&&L.hasError("required")?"error":""),e.yG2(6),e.E7m("nzPrefix",null!=(B=n.formGroup.get("address"))&&B.hasError("required")?m:l)("nzStatus",null!=(F=n.formGroup.get("address"))&&F.hasError("required")?"error":""),e.yG2(6),e.E7m("nzPrefix",null!=(Q=n.formGroup.get("city"))&&Q.hasError("required")?m:l)("nzStatus",null!=(K=n.formGroup.get("city"))&&K.hasError("required")?"error":""),e.yG2(5),e.E7m("nzPrefix",null!=(J=n.formGroup.get("province"))&&J.hasError("required")?m:l)("nzStatus",null!=(H=n.formGroup.get("province"))&&H.hasError("required")?"error":""),e.yG2(5),e.E7m("nzPrefix",null!=(W=n.formGroup.get("zipCode"))&&W.hasError("required")?m:l)("nzStatus",null!=(X=n.formGroup.get("zipCode"))&&X.hasError("required")?"error":""),e.yG2(),e.E7m("cleave",n.CLEAVE_CONFIG.zipCode),e.yG2(5),e.E7m("nzPrefix",null!=(Z=n.formGroup.get("contactNumber"))&&Z.hasError("required")?m:l)("nzStatus",null!=(ee=n.formGroup.get("contactNumber"))&&ee.hasError("required")?"error":""),e.yG2(),e.E7m("cleave",n.CLEAVE_CONFIG.mobileNumber),e.yG2(4),e.E7m("nzPrefix",null!=(te=n.formGroup.get("occupation"))&&te.hasError("required")?m:l)("nzStatus",null!=(ne=n.formGroup.get("occupation"))&&ne.hasError("required")?"error":""),e.yG2(5),e.E7m("nzPrefix",null!=(le=n.formGroup.get("tinNumber"))&&le.hasError("required")?m:l)("nzStatus",null!=(Je=n.formGroup.get("tinNumber"))&&Je.hasError("required")?"error":""),e.yG2(),e.E7m("cleave",n.CLEAVE_CONFIG.tinNumber)}},dependencies:[b.ay,i.Ez,I.k,x.o9,R.If,g.QD,g.ox,me.iO,_.cv,_.qG,_.sj,C.eE,C.Mh,O.qG,z.SW,a.sz,a.ot,a.O4,a.ue,a.u,a.uW,a.Wo,de._]})}return o})();var xe=c(4840);function Te(o,s){if(1&o){const t=e.KQA();e.I0R(0,"div")(1,"div",1)(2,"div",8)(3,"button",9),e.qCj("click",function(){e.usT(t);const n=e.GaO();return e.CGJ(n.close())}),e.OEk(4,"CANCEL"),e.C$Y(),e.I0R(5,"button",10),e.qCj("click",function(){e.usT(t);const n=e.GaO();return e.CGJ(n.submit())}),e.OEk(6,"SUBMIT"),e.C$Y()()()()}if(2&o){const t=e.GaO();e.yG2(5),e.E7m("disabled",t.formGroup.invalid)}}function Oe(o,s){1&o&&e.wR5(0,"i",11)}function Re(o,s){1&o&&e.wR5(0,"i",12)}let Se=(()=>{class o{dialogRef;service;toastService;_formBuilder;constructor(t,r,n,l){this.dialogRef=t,this.service=r,this.toastService=n,this._formBuilder=l}formGroup;data;ngOnInit(){this.formGroup=this._formBuilder.group({name:["",a.AQ.required]}),this.data=this.dialogRef.getConfig().nzData,this.data&&this.initData()}initData(){this.formGroup.patchValue({name:this.data.name})}submit(){this.data?this.service.update(this.data.id,this.formGroup.value).subscribe({next:t=>{this.toastService.show("success","Civil Status",t.message),this.dialogRef.close({event:"close",data:!0})},error:t=>{this.toastService.show("error","Civil Status",t.message)}}):this.service.create(this.formGroup.value).subscribe({next:t=>{this.toastService.show("success","Civil Status",t.message),this.dialogRef.close({event:"close",data:!0})},error:t=>{this.toastService.show("error","Civil Status",t.message)}})}close(){this.dialogRef.close({event:"close",data:!1})}static \u0275fac=function(r){return new(r||o)(e.GI1(z.U7),e.GI1(xe.A),e.GI1(G.s9),e.GI1(a.im))};static \u0275cmp=e.In1({type:o,selectors:[["app-dialog-manage-civil-status"]],decls:12,vars:3,consts:[[3,"formGroup"],["nz-row",""],["nz-col","","nzSpan","12",1,"pr-1"],[3,"nzPrefix","nzStatus"],["nz-input","","type","text","nz-input","","formControlName","code"],[4,"nzModalFooter"],["prefixTemplateCheck",""],["prefixTemplateError",""],["nz-col","","nzSpan","24",1,"flex","justify-between"],["nz-button","",1,"bg-grey-light","rounded-xl","text-white",3,"click"],["nz-button","",1,"bg-primary","rounded-xl","text-white","disabled:bg-grey",3,"disabled","click"],["nz-icon","","nzType","check-circle","nzTheme","outline",1,"text-green-600"],["nz-icon","","nzType","exclamation-circle","nzTheme","outline","nzTooltipTitle","Invalid Input!","nzTooltipPlacement","bottom","nz-tooltip","",1,"text-red-600"]],template:function(r,n){if(1&r&&(e.I0R(0,"form",0)(1,"div",1)(2,"div",2)(3,"h5"),e.OEk(4,"Code"),e.C$Y(),e.I0R(5,"nz-input-group",3),e.wR5(6,"input",4),e.C$Y()()()(),e.yuY(7,Te,7,1,"div",5)(8,Oe,1,0,"ng-template",null,6,e.gJz)(10,Re,1,0,"ng-template",null,7,e.gJz)),2&r){const l=e.Gew(9),m=e.Gew(11);let p,h;e.E7m("formGroup",n.formGroup),e.yG2(5),e.E7m("nzPrefix",null!=(p=n.formGroup.get("code"))&&p.hasError("required")?m:l)("nzStatus",null!=(h=n.formGroup.get("code"))&&h.hasError("required")?"error":"")}},dependencies:[i.Ez,I.k,x.o9,R.If,g.QD,g.ox,_.cv,_.qG,_.sj,O.qG,z.SW,a.sz,a.ot,a.ue,a.u,a.uW,a.Wo]})}return o})();function Me(o,s){if(1&o){const t=e.KQA();e.I0R(0,"div")(1,"div",1)(2,"div",9)(3,"button",10),e.qCj("click",function(){e.usT(t);const n=e.GaO();return e.CGJ(n.close())}),e.OEk(4,"CANCEL"),e.C$Y(),e.I0R(5,"button",11),e.qCj("click",function(){e.usT(t);const n=e.GaO();return e.CGJ(n.submit())}),e.OEk(6,"SUBMIT"),e.C$Y()()()()}if(2&o){const t=e.GaO();e.yG2(5),e.E7m("disabled",t.formGroup.invalid)}}function we(o,s){1&o&&e.wR5(0,"i",12)}function Ne(o,s){1&o&&e.wR5(0,"i",13)}let De=(()=>{class o{dialogRef;service;toastService;_formBuilder;constructor(t,r,n,l){this.dialogRef=t,this.service=r,this.toastService=n,this._formBuilder=l}formGroup;data;ngOnInit(){this.formGroup=this._formBuilder.group({name:["",a.AQ.required],description:["",a.AQ.required]}),this.data=this.dialogRef.getConfig().nzData,this.data&&this.initData()}initData(){let t=this.data;this.formGroup.patchValue({name:t.name,description:t.description})}submit(){this.data?this.service.update(this.data.id,this.formGroup.value).subscribe({next:t=>{this.toastService.show("success","Collaterals",t.message),this.dialogRef.close({event:"close",data:!0})},error:t=>{this.toastService.show("error","Collaterals",t.message)}}):this.service.create(this.formGroup.value).subscribe({next:t=>{this.toastService.show("success","Collaterals",t.message),this.dialogRef.close({event:"close",data:!0})},error:t=>{this.toastService.show("error","Collaterals",t.message)}})}close(){this.dialogRef.close({event:"close",data:!1})}static \u0275fac=function(r){return new(r||o)(e.GI1(z.U7),e.GI1(G.aM),e.GI1(G.s9),e.GI1(a.im))};static \u0275cmp=e.In1({type:o,selectors:[["app-dialog-manage-collaterals"]],decls:18,vars:5,consts:[[3,"formGroup"],["nz-row",""],["nz-col","","nzSpan","24"],[3,"nzPrefix","nzStatus"],["nz-input","","type","text","nz-input","","formControlName","name"],["nz-input","","type","text","nz-input","","formControlName","description"],[4,"nzModalFooter"],["prefixTemplateCheck",""],["prefixTemplateError",""],["nz-col","","nzSpan","24",1,"flex","justify-between"],["nz-button","",1,"bg-grey-light","rounded-xl","text-white",3,"click"],["nz-button","",1,"bg-primary","rounded-xl","text-white","disabled:bg-grey",3,"disabled","click"],["nz-icon","","nzType","check-circle","nzTheme","outline",1,"text-green-600"],["nz-icon","","nzType","exclamation-circle","nzTheme","outline","nzTooltipTitle","Invalid Input!","nzTooltipPlacement","bottom","nz-tooltip","",1,"text-red-600"]],template:function(r,n){if(1&r&&(e.I0R(0,"form",0)(1,"div",1)(2,"div",2)(3,"h5"),e.OEk(4,"Name"),e.C$Y(),e.I0R(5,"nz-input-group",3),e.wR5(6,"input",4),e.C$Y()()(),e.I0R(7,"div",1)(8,"div",2)(9,"h5"),e.OEk(10,"Description"),e.C$Y(),e.I0R(11,"nz-input-group",3),e.wR5(12,"input",5),e.C$Y()()()(),e.yuY(13,Me,7,1,"div",6)(14,we,1,0,"ng-template",null,7,e.gJz)(16,Ne,1,0,"ng-template",null,8,e.gJz)),2&r){const l=e.Gew(15),m=e.Gew(17);let p,h,v,E;e.E7m("formGroup",n.formGroup),e.yG2(5),e.E7m("nzPrefix",null!=(p=n.formGroup.get("name"))&&p.hasError("required")?m:l)("nzStatus",null!=(h=n.formGroup.get("name"))&&h.hasError("required")?"error":""),e.yG2(6),e.E7m("nzPrefix",null!=(v=n.formGroup.get("description"))&&v.hasError("required")?m:l)("nzStatus",null!=(E=n.formGroup.get("description"))&&E.hasError("required")?"error":"")}},dependencies:[i.Ez,I.k,x.o9,R.If,g.QD,g.ox,_.cv,_.qG,_.sj,O.qG,z.SW,a.sz,a.ot,a.ue,a.u,a.uW,a.Wo]})}return o})();function Ye(o,s){if(1&o){const t=e.KQA();e.I0R(0,"div")(1,"div",1)(2,"div",10)(3,"button",11),e.qCj("click",function(){e.usT(t);const n=e.GaO();return e.CGJ(n.close())}),e.OEk(4,"CANCEL"),e.C$Y(),e.I0R(5,"button",12),e.qCj("click",function(){e.usT(t);const n=e.GaO();return e.CGJ(n.submit())}),e.OEk(6,"SUBMIT"),e.C$Y()()()()}if(2&o){const t=e.GaO();e.yG2(5),e.E7m("disabled",t.formGroup.invalid)}}function $e(o,s){1&o&&e.wR5(0,"i",13)}function Ae(o,s){1&o&&e.wR5(0,"i",14)}let Pe=(()=>{class o{dialogRef;service;toastService;_formBuilder;constructor(t,r,n,l){this.dialogRef=t,this.service=r,this.toastService=n,this._formBuilder=l}formGroup;data;ngOnInit(){this.formGroup=this._formBuilder.group({description:["",a.AQ.required],amount:[0,a.AQ.required]}),this.data=this.dialogRef.getConfig().nzData,this.data&&this.initData()}initData(){let t=this.data;this.formGroup.patchValue({description:t.description,amount:t.amount})}submit(){this.data?this.service.update(this.data.id,this.formGroup.value).subscribe({next:t=>{this.toastService.show("success","Expenses",t.message),this.dialogRef.close({event:"close",data:!0})},error:t=>{this.toastService.show("error","Expenses",t.message)}}):this.service.create(this.formGroup.value).subscribe({next:t=>{this.toastService.show("success","Expenses",t.message),this.dialogRef.close({event:"close",data:!0})},error:t=>{this.toastService.show("error","Expenses",t.message)}})}close(){this.dialogRef.close({event:"close",data:!1})}static \u0275fac=function(r){return new(r||o)(e.GI1(z.U7),e.GI1(G.zi),e.GI1(G.s9),e.GI1(a.im))};static \u0275cmp=e.In1({type:o,selectors:[["app-dialog-manage-expenses"]],decls:18,vars:5,consts:[[3,"formGroup"],["nz-row",""],["nz-col","","nzSpan","24"],[3,"nzPrefix","nzStatus"],["nz-input","","type","text","nz-input","","formControlName","description"],["nz-row","",1,"mt-1"],["nz-input","","type","number","nz-input","","formControlName","amount"],[4,"nzModalFooter"],["prefixTemplateCheck",""],["prefixTemplateError",""],["nz-col","","nzSpan","24",1,"flex","justify-between"],["nz-button","",1,"bg-grey-light","rounded-xl","text-white",3,"click"],["nz-button","",1,"bg-primary","rounded-xl","text-white","disabled:bg-grey",3,"disabled","click"],["nz-icon","","nzType","check-circle","nzTheme","outline",1,"text-green-600"],["nz-icon","","nzType","exclamation-circle","nzTheme","outline","nzTooltipTitle","Invalid Input!","nzTooltipPlacement","bottom","nz-tooltip","",1,"text-red-600"]],template:function(r,n){if(1&r&&(e.I0R(0,"form",0)(1,"div",1)(2,"div",2)(3,"h5"),e.OEk(4,"Description"),e.C$Y(),e.I0R(5,"nz-input-group",3),e.wR5(6,"input",4),e.C$Y()()(),e.I0R(7,"div",5)(8,"div",2)(9,"h5"),e.OEk(10,"Amount"),e.C$Y(),e.I0R(11,"nz-input-group",3),e.wR5(12,"input",6),e.C$Y()()()(),e.yuY(13,Ye,7,1,"div",7)(14,$e,1,0,"ng-template",null,8,e.gJz)(16,Ae,1,0,"ng-template",null,9,e.gJz)),2&r){const l=e.Gew(15),m=e.Gew(17);let p,h,v,E;e.E7m("formGroup",n.formGroup),e.yG2(5),e.E7m("nzPrefix",null!=(p=n.formGroup.get("description"))&&p.hasError("required")?m:l)("nzStatus",null!=(h=n.formGroup.get("description"))&&h.hasError("required")?"error":""),e.yG2(6),e.E7m("nzPrefix",null!=(v=n.formGroup.get("amount"))&&v.hasError("required")?m:l)("nzStatus",null!=(E=n.formGroup.get("amount"))&&E.hasError("required")?"error":"")}},dependencies:[i.Ez,I.k,x.o9,R.If,g.QD,g.ox,_.cv,_.qG,_.sj,O.qG,z.SW,a.sz,a.ot,a.O4,a.ue,a.u,a.uW,a.Wo]})}return o})();function qe(o,s){if(1&o){const t=e.KQA();e.I0R(0,"div")(1,"div",1)(2,"div",8)(3,"button",9),e.qCj("click",function(){e.usT(t);const n=e.GaO();return e.CGJ(n.close())}),e.OEk(4,"CANCEL"),e.C$Y(),e.I0R(5,"button",10),e.qCj("click",function(){e.usT(t);const n=e.GaO();return e.CGJ(n.submit())}),e.OEk(6,"SUBMIT"),e.C$Y()()()()}if(2&o){const t=e.GaO();e.yG2(5),e.E7m("disabled",t.formGroup.invalid)}}function Qe(o,s){1&o&&e.wR5(0,"i",11)}function Ue(o,s){1&o&&e.wR5(0,"i",12)}let Ve=(()=>{class o{dialogRef;service;toastService;_formBuilder;constructor(t,r,n,l){this.dialogRef=t,this.service=r,this.toastService=n,this._formBuilder=l}formGroup;data;ngOnInit(){this.formGroup=this._formBuilder.group({percentage:["",[a.AQ.required,a.AQ.pattern(/^((100)|(\d{1,2}(\.\d*)?))$/m)]]}),this.data=this.dialogRef.getConfig().nzData,this.data&&this.initData()}initData(){this.formGroup.patchValue({percentage:this.data.percentage})}submit(){this.data?this.service.update(this.data.id,this.formGroup.value).subscribe({next:t=>{this.toastService.show("success","Interests",t.message),this.dialogRef.close({event:"close",data:!0})},error:t=>{this.toastService.show("error","Interests",t.message)}}):this.service.create(this.formGroup.value).subscribe({next:t=>{this.toastService.show("success","Interests",t.message),this.dialogRef.close({event:"close",data:!0})},error:t=>{this.toastService.show("error","Interests",t.message)}})}close(){this.dialogRef.close({event:"close",data:!1})}static \u0275fac=function(r){return new(r||o)(e.GI1(z.U7),e.GI1(G.Wg),e.GI1(G.s9),e.GI1(a.im))};static \u0275cmp=e.In1({type:o,selectors:[["app-dialog-manage-interests"]],decls:12,vars:3,consts:[[3,"formGroup"],["nz-row",""],["nz-col","","nzSpan","24"],[3,"nzPrefix","nzStatus"],["nz-input","","type","number","nz-input","","formControlName","percentage"],[4,"nzModalFooter"],["prefixTemplateCheck",""],["prefixTemplateError",""],["nz-col","","nzSpan","24",1,"flex","justify-between"],["nz-button","",1,"bg-grey-light","rounded-xl","text-white",3,"click"],["nz-button","",1,"bg-primary","rounded-xl","text-white","disabled:bg-grey",3,"disabled","click"],["nz-icon","","nzType","check-circle","nzTheme","outline",1,"text-green-600"],["nz-icon","","nzType","exclamation-circle","nzTheme","outline","nzTooltipTitle","Invalid Input!","nzTooltipPlacement","bottom","nz-tooltip","",1,"text-red-600"]],template:function(r,n){if(1&r&&(e.I0R(0,"form",0)(1,"div",1)(2,"div",2)(3,"h5"),e.OEk(4,"Rate"),e.C$Y(),e.I0R(5,"nz-input-group",3),e.wR5(6,"input",4),e.C$Y()()()(),e.yuY(7,qe,7,1,"div",5)(8,Qe,1,0,"ng-template",null,6,e.gJz)(10,Ue,1,0,"ng-template",null,7,e.gJz)),2&r){const l=e.Gew(9),m=e.Gew(11);let p,h;e.E7m("formGroup",n.formGroup),e.yG2(5),e.E7m("nzPrefix",null!=(p=n.formGroup.get("percentage"))&&p.hasError("required")||null!=(p=n.formGroup.get("percentage"))&&p.hasError("pattern")?m:l)("nzStatus",null!=(h=n.formGroup.get("percentage"))&&h.hasError("required")||null!=(h=n.formGroup.get("percentage"))&&h.hasError("pattern")?"error":"")}},dependencies:[i.Ez,I.k,x.o9,R.If,g.QD,g.ox,_.cv,_.qG,_.sj,O.qG,z.SW,a.sz,a.ot,a.O4,a.ue,a.u,a.uW,a.Wo]})}return o})();var ie=c(7994),ae=c(9640),re=c(4604);function Le(o,s){if(1&o){const t=e.KQA();e.I0R(0,"button",43),e.qCj("click",function(){e.usT(t);const n=e.GaO(2);return e.CGJ(n.editBorrower())}),e.OEk(1),e.C$Y()}if(2&o){const t=e.GaO(2);e.yG2(),e.oRS(" ",1==t.isBorrowerEdit?"CANCEL":""," EDIT BORROWER ")}}function u(o,s){if(1&o&&e.wR5(0,"nz-option",46),2&o){const t=s.$implicit;e.E7m("nzValue",t.id)("nzLabel",t.firstName+" "+t.lastName)}}function k(o,s){if(1&o){const t=e.KQA();e.I0R(0,"nz-select",44),e.iHE("ngModelChange",function(n){e.usT(t);const l=e.GaO(2);return e.kNx(l.borrower,n)||(l.borrower=n),e.CGJ(n)}),e.qCj("ngModelChange",function(){e.usT(t);const n=e.GaO(2);return e.CGJ(n.getPersonalData(n.borrower,"create"))}),e.wR5(1,"nz-option",45),e.yuY(2,u,1,2,"nz-option",31),e.C$Y()}if(2&o){const t=e.GaO(2);e.OKB("ngModel",t.borrower),e.yG2(2),e.E7m("ngForOf",t.borrowers)}}function d(o,s){if(1&o&&e.wR5(0,"nz-option",46),2&o){const t=s.$implicit;e.E7m("nzValue",t.id)("nzLabel",t.name)}}function y(o,s){if(1&o&&e.wR5(0,"nz-option",46),2&o){const t=s.$implicit;e.E7m("nzValue",t.id)("nzLabel",t.name)}}function f(o,s){if(1&o&&(e.I0R(0,"div")(1,"div",16),e.yuY(2,Le,2,1,"button",17)(3,k,3,2,"nz-select",18),e.C$Y(),e.I0R(4,"form",19)(5,"div",20)(6,"div",21)(7,"h5"),e.OEk(8,"Last Name"),e.C$Y(),e.I0R(9,"nz-input-group",22),e.wR5(10,"input",23),e.C$Y()(),e.I0R(11,"div",21)(12,"h5"),e.OEk(13,"First Name"),e.C$Y(),e.I0R(14,"nz-input-group",22),e.wR5(15,"input",24),e.C$Y()(),e.I0R(16,"div",25)(17,"h5"),e.OEk(18,"Middle Initial"),e.C$Y(),e.I0R(19,"nz-input-group",22),e.wR5(20,"input",26),e.C$Y()()(),e.I0R(21,"div",27)(22,"div",21)(23,"h5"),e.OEk(24,"Birth Date"),e.C$Y(),e.wR5(25,"nz-date-picker",28),e.C$Y(),e.I0R(26,"div",21)(27,"h5"),e.OEk(28,"Age"),e.C$Y(),e.I0R(29,"nz-input-group",22),e.wR5(30,"input",29),e.C$Y()(),e.I0R(31,"div",25)(32,"h5"),e.OEk(33,"Sex"),e.C$Y(),e.I0R(34,"nz-select",30),e.yuY(35,d,1,2,"nz-option",31),e.C$Y()()(),e.I0R(36,"div",27)(37,"div",21)(38,"h5"),e.OEk(39,"Civil Status"),e.C$Y(),e.I0R(40,"nz-select",32),e.yuY(41,y,1,2,"nz-option",31),e.C$Y()(),e.I0R(42,"div",21)(43,"h5"),e.OEk(44,"Spouse"),e.C$Y(),e.I0R(45,"nz-input-group",22),e.wR5(46,"input",33),e.C$Y()(),e.I0R(47,"div",25)(48,"h5"),e.OEk(49,"Spouse Occupation"),e.C$Y(),e.I0R(50,"nz-input-group",22),e.wR5(51,"input",34),e.C$Y()()(),e.I0R(52,"div",20)(53,"div",35)(54,"h5"),e.OEk(55,"Address"),e.C$Y(),e.I0R(56,"nz-input-group",22),e.wR5(57,"input",36),e.C$Y()()(),e.I0R(58,"div",27)(59,"div",21)(60,"h5"),e.OEk(61,"Municipality"),e.C$Y(),e.I0R(62,"nz-input-group",22),e.wR5(63,"input",37),e.C$Y()(),e.I0R(64,"div",21)(65,"h5"),e.OEk(66,"Province"),e.C$Y(),e.I0R(67,"nz-input-group",22),e.wR5(68,"input",38),e.C$Y()(),e.I0R(69,"div",25)(70,"h5"),e.OEk(71,"Zip Code"),e.C$Y(),e.I0R(72,"nz-input-group",22),e.wR5(73,"input",39),e.C$Y()()(),e.I0R(74,"div",27)(75,"div",21)(76,"h5"),e.OEk(77,"Contact No."),e.C$Y(),e.I0R(78,"nz-input-group",22),e.wR5(79,"input",40),e.C$Y()(),e.I0R(80,"div",21)(81,"h5"),e.OEk(82,"Occupation"),e.C$Y(),e.I0R(83,"nz-input-group",22),e.wR5(84,"input",41),e.C$Y()(),e.I0R(85,"div",25)(86,"h5"),e.OEk(87,"TIN No."),e.C$Y(),e.I0R(88,"nz-input-group",22),e.wR5(89,"input",42),e.C$Y()()()()()),2&o){const t=e.GaO(),r=e.Gew(22),n=e.Gew(20);let l,m,p,h,v,E,T,S,w,N,D,Y,$,A,P,q,L,B,F,Q,K,J,H,W,X,Z,ee,te,ne;e.yG2(2),e.E7m("ngIf",t.data),e.yG2(),e.E7m("ngIf",!t.data),e.yG2(),e.E7m("formGroup",t.formBorrower),e.yG2(5),e.E7m("nzPrefix",null!=(l=t.formBorrower.get("lastName"))&&l.hasError("required")?r:n)("nzStatus",null!=(m=t.formBorrower.get("lastName"))&&m.hasError("required")?"error":""),e.yG2(5),e.E7m("nzPrefix",null!=(p=t.formBorrower.get("firstName"))&&p.hasError("required")?r:n)("nzStatus",null!=(h=t.formBorrower.get("firstName"))&&h.hasError("required")?"error":""),e.yG2(5),e.E7m("nzPrefix",null!=(v=t.formBorrower.get("middleName"))&&v.hasError("required")?r:n)("nzStatus",null!=(E=t.formBorrower.get("middleName"))&&E.hasError("required")?"error":""),e.yG2(6),e.E7m("nzStatus",null!=(T=t.formBorrower.get("birthDate"))&&T.hasError("required")?"error":"")("nzMode","date"),e.yG2(4),e.E7m("nzPrefix",null!=(S=t.formBorrower.get("age"))&&S.hasError("required")?r:n)("nzStatus",null!=(w=t.formBorrower.get("age"))&&w.hasError("required")?"error":""),e.yG2(5),e.E7m("nzStatus",null!=(N=t.formBorrower.get("sexId"))&&N.hasError("required")?"error":""),e.yG2(),e.E7m("ngForOf",t.sex),e.yG2(5),e.E7m("nzStatus",null!=(D=t.formBorrower.get("civilStatusId"))&&D.hasError("required")?"error":""),e.yG2(),e.E7m("ngForOf",t.civilstatus),e.yG2(4),e.E7m("nzPrefix",null!=(Y=t.formBorrower.get("spouse"))&&Y.hasError("required")?r:n)("nzStatus",null!=($=t.formBorrower.get("spouse"))&&$.hasError("required")?"error":""),e.yG2(5),e.E7m("nzPrefix",null!=(A=t.formBorrower.get("spouseOccupation"))&&A.hasError("required")?r:n)("nzStatus",null!=(P=t.formBorrower.get("spouseOccupation"))&&P.hasError("required")?"error":""),e.yG2(6),e.E7m("nzPrefix",null!=(q=t.formBorrower.get("address"))&&q.hasError("required")?r:n)("nzStatus",null!=(L=t.formBorrower.get("address"))&&L.hasError("required")?"error":""),e.yG2(6),e.E7m("nzPrefix",null!=(B=t.formBorrower.get("city"))&&B.hasError("required")?r:n)("nzStatus",null!=(F=t.formBorrower.get("city"))&&F.hasError("required")?"error":""),e.yG2(5),e.E7m("nzPrefix",null!=(Q=t.formBorrower.get("province"))&&Q.hasError("required")?r:n)("nzStatus",null!=(K=t.formBorrower.get("province"))&&K.hasError("required")?"error":""),e.yG2(5),e.E7m("nzPrefix",null!=(J=t.formBorrower.get("zipCode"))&&J.hasError("required")?r:n)("nzStatus",null!=(H=t.formBorrower.get("zipCode"))&&H.hasError("required")?"error":""),e.yG2(),e.E7m("cleave",t.CLEAVE_CONFIG.zipCode),e.yG2(5),e.E7m("nzPrefix",null!=(W=t.formBorrower.get("contactNumber"))&&W.hasError("required")?r:n)("nzStatus",null!=(X=t.formBorrower.get("contactNumber"))&&X.hasError("required")?"error":""),e.yG2(),e.E7m("cleave",t.CLEAVE_CONFIG.mobileNumber),e.yG2(4),e.E7m("nzPrefix",null!=(Z=t.formBorrower.get("occupation"))&&Z.hasError("required")?r:n)("nzStatus",null!=(ee=t.formBorrower.get("occupation"))&&ee.hasError("required")?"error":""),e.yG2(5),e.E7m("nzPrefix",null!=(te=t.formBorrower.get("tinNumber"))&&te.hasError("required")?r:n)("nzStatus",null!=(ne=t.formBorrower.get("tinNumber"))&&ne.hasError("required")?"error":""),e.yG2(),e.E7m("cleave",t.CLEAVE_CONFIG.tinNumber)}}function V(o,s){if(1&o&&e.wR5(0,"nz-option",46),2&o){const t=s.$implicit;e.E7m("nzValue",t.id)("nzLabel",t.name+" ("+t.value+" days)")}}function j(o,s){if(1&o&&e.wR5(0,"nz-option",46),2&o){const t=s.$implicit;e.E7m("nzValue",t.id)("nzLabel",t.name)}}function Be(o,s){if(1&o&&e.wR5(0,"nz-option",46),2&o){const t=s.$implicit;e.E7m("nzValue",t.id)("nzLabel",t.percentage)}}function Fe(o,s){1&o&&(e.I0R(0,"span",73),e.OEk(1," There are duplicates."),e.C$Y())}function He(o,s){if(1&o&&(e.I0R(0,"div",27)(1,"div",35)(2,"h5"),e.OEk(3,"PDC:"),e.C$Y(),e.yuY(4,Fe,2,0,"span",72),e.C$Y()()),2&o){const t=e.GaO(2);e.yG2(4),e.E7m("ngIf",t.chequeNumberDuplicate)}}function We(o,s){if(1&o&&(e.SAx(0,76),e.I0R(1,"div",21)(2,"h5"),e.OEk(3),e.C$Y(),e.I0R(4,"nz-input-group",22),e.wR5(5,"input",77),e.C$Y()(),e.k70()),2&o){const t=s.index,r=e.GaO(3),n=e.Gew(22),l=e.Gew(20);let m,p;e.E7m("formGroupName",t),e.yG2(3),e.oRS("Check No. ",t+1,""),e.yG2(),e.E7m("nzPrefix",null!=(m=r.getError(t))&&m.hasError("required")?n:l)("nzStatus",null!=(p=r.getError(t))&&p.hasError("required")?"error":"")}}function Xe(o,s){if(1&o&&(e.SAx(0,74),e.yuY(1,We,6,4,"ng-container",75),e.k70()),2&o){const t=e.GaO(2);e.yG2(),e.E7m("ngForOf",t.chequeNumberControls)}}function Ze(o,s){if(1&o){const t=e.KQA();e.I0R(0,"div")(1,"form",19)(2,"div",20)(3,"div",21)(4,"h5"),e.OEk(5,"Loan Amount"),e.C$Y(),e.I0R(6,"nz-input-group",22),e.wR5(7,"input",47),e.C$Y()(),e.I0R(8,"div",21)(9,"h5"),e.OEk(10,"Collateral"),e.C$Y(),e.I0R(11,"nz-select",48),e.wR5(12,"nz-option",49)(13,"nz-option",50),e.C$Y()(),e.I0R(14,"div",21)(15,"h5"),e.OEk(16,"Terms of days"),e.C$Y(),e.I0R(17,"nz-select",51),e.yuY(18,V,1,2,"nz-option",31),e.C$Y()()(),e.I0R(19,"div",27)(20,"div",21)(21,"h5"),e.OEk(22,"Payment Terms"),e.C$Y(),e.I0R(23,"nz-select",52),e.wR5(24,"nz-option",53)(25,"nz-option",54),e.C$Y()(),e.I0R(26,"div",21)(27,"h5"),e.OEk(28,"Bank"),e.C$Y(),e.I0R(29,"nz-select",55),e.yuY(30,j,1,2,"nz-option",31),e.C$Y()(),e.I0R(31,"div",25)(32,"h5"),e.OEk(33,"Interest(%)"),e.C$Y(),e.I0R(34,"nz-select",56),e.yuY(35,Be,1,2,"nz-option",31),e.C$Y()()(),e.I0R(36,"div",27)(37,"div",21)(38,"h5"),e.OEk(39,"Date Granted"),e.C$Y(),e.wR5(40,"nz-date-picker",57),e.C$Y(),e.I0R(41,"div",21)(42,"h5"),e.OEk(43,"Due Date"),e.C$Y(),e.wR5(44,"nz-date-picker",58),e.C$Y(),e.I0R(45,"div",25)(46,"h5"),e.OEk(47,"Kind Of Loan"),e.C$Y(),e.I0R(48,"nz-input-group",22),e.wR5(49,"input",59),e.C$Y()()(),e.I0R(50,"div",27)(51,"div",21)(52,"h5"),e.OEk(53,"Co-Maker"),e.C$Y(),e.I0R(54,"nz-input-group",22),e.wR5(55,"input",60),e.C$Y()(),e.I0R(56,"div",25)(57,"h5"),e.OEk(58,"Co-Maker Contact No."),e.C$Y(),e.I0R(59,"nz-input-group",22),e.wR5(60,"input",61),e.C$Y()(),e.I0R(61,"div",21)(62,"h5"),e.OEk(63,"Co-Maker Address"),e.C$Y(),e.I0R(64,"nz-input-group",22),e.wR5(65,"input",62),e.C$Y()()(),e.I0R(66,"div",27)(67,"div",21)(68,"h5"),e.OEk(69,"Mode of Payment"),e.C$Y(),e.I0R(70,"nz-select",63),e.qCj("ngModelChange",function(){e.usT(t);const n=e.GaO();return e.CGJ(n.setCheckNos())}),e.wR5(71,"nz-option",64)(72,"nz-option",65),e.C$Y()(),e.I0R(73,"div",66)(74,"label",67),e.OEk(75,"VAT(DS(PN)) - 12%"),e.C$Y(),e.I0R(76,"label",68),e.OEk(77,"DS(Mort.) - 1.2%"),e.C$Y(),e.I0R(78,"label",69),e.OEk(79,"Notary Fee - \u20b1250"),e.C$Y()()()(),e.I0R(80,"form",19),e.yuY(81,He,5,1,"div",70),e.I0R(82,"div",20),e.yuY(83,Xe,2,1,"ng-container",71),e.C$Y()()()}if(2&o){const t=e.GaO(),r=e.Gew(22),n=e.Gew(20);let l,m,p,h,v,E,T,S,w,N,D,Y,$,A,P,q,L,B,F,Q;e.yG2(),e.E7m("formGroup",t.formOrder),e.yG2(5),e.E7m("nzPrefix",null!=(l=t.formOrder.get("loanAmount"))&&l.hasError("required")?r:n)("nzStatus",null!=(m=t.formOrder.get("loanAmount"))&&m.hasError("required")?"error":""),e.yG2(5),e.E7m("nzStatus",null!=(p=t.formOrder.get("collateral"))&&p.hasError("required")?"error":""),e.yG2(6),e.E7m("nzStatus",null!=(h=t.formOrder.get("termId"))&&h.hasError("required")?"error":""),e.yG2(),e.E7m("ngForOf",t.terms),e.yG2(5),e.E7m("nzStatus",null!=(v=t.formOrder.get("paymentTerms"))&&v.hasError("required")?"error":""),e.yG2(6),e.E7m("nzStatus",null!=(E=t.formOrder.get("bankId"))&&E.hasError("required")?"error":""),e.yG2(),e.E7m("ngForOf",t.banks),e.yG2(4),e.E7m("nzStatus",null!=(T=t.formOrder.get("interestId"))&&T.hasError("required")?"error":""),e.yG2(),e.E7m("ngForOf",t.interests),e.yG2(5),e.E7m("nzStatus",null!=(S=t.formOrder.get("dateGranted"))&&S.hasError("required")?"error":"")("nzMode","date"),e.yG2(4),e.E7m("nzStatus",null!=(w=t.formOrder.get("dueDate"))&&w.hasError("required")?"error":"")("nzMode","date"),e.yG2(4),e.E7m("nzPrefix",null!=(N=t.formOrder.get("kindOfLoan"))&&N.hasError("required")?r:n)("nzStatus",null!=(D=t.formOrder.get("kindOfLoan"))&&D.hasError("required")?"error":""),e.yG2(6),e.E7m("nzPrefix",null!=(Y=t.formOrder.get("coMakerName"))&&Y.hasError("required")?r:n)("nzStatus",null!=($=t.formOrder.get("coMakerName"))&&$.hasError("required")?"error":""),e.yG2(5),e.E7m("nzPrefix",null!=(A=t.formOrder.get("coMakerContact"))&&A.hasError("required")?r:n)("nzStatus",null!=(P=t.formOrder.get("coMakerContact"))&&P.hasError("required")?"error":""),e.yG2(),e.E7m("cleave",t.CLEAVE_CONFIG.mobileNumber),e.yG2(4),e.E7m("nzPrefix",null!=(q=t.formOrder.get("coMakerAddress"))&&q.hasError("required")?r:n)("nzStatus",null!=(L=t.formOrder.get("coMakerAddress"))&&L.hasError("required")?"error":""),e.yG2(6),e.E7m("nzStatus",null!=(B=t.formOrder.get("modeOfPayment"))&&B.hasError("required")?"error":""),e.yG2(10),e.E7m("formGroup",t.formCheques),e.yG2(),e.E7m("ngIf","PDC"==(null==(F=t.formOrder.get("modeOfPayment"))?null:F.value)),e.yG2(2),e.E7m("ngIf","PDC"==(null==(Q=t.formOrder.get("modeOfPayment"))?null:Q.value))}}function et(o,s){if(1&o){const t=e.KQA();e.I0R(0,"div")(1,"div",27)(2,"div",78)(3,"h3"),e.OEk(4,"Real Estate Mortgage Details"),e.C$Y()()(),e.I0R(5,"div",27)(6,"div",79)(7,"h5"),e.OEk(8,"TCT No."),e.C$Y(),e.I0R(9,"nz-input-group",22)(10,"input",80),e.iHE("ngModelChange",function(n){e.usT(t);const l=e.GaO(2);return e.kNx(l.collateralTCT,n)||(l.collateralTCT=n),e.CGJ(n)}),e.C$Y()()()(),e.I0R(11,"div",27)(12,"div",35)(13,"h5"),e.OEk(14,"Address"),e.C$Y(),e.I0R(15,"nz-input-group",22)(16,"input",80),e.iHE("ngModelChange",function(n){e.usT(t);const l=e.GaO(2);return e.kNx(l.collateralAddress,n)||(l.collateralAddress=n),e.CGJ(n)}),e.C$Y()()()(),e.I0R(17,"div",27)(18,"div",81)(19,"h5"),e.OEk(20,"Parcel/s of Land"),e.C$Y(),e.I0R(21,"nz-input-group",22)(22,"input",82),e.iHE("ngModelChange",function(n){e.usT(t);const l=e.GaO(2);return e.kNx(l.collateralParcel,n)||(l.collateralParcel=n),e.CGJ(n)}),e.C$Y()()(),e.I0R(23,"div",83)(24,"h5"),e.OEk(25,"Number of Pages in Parcel/s"),e.C$Y(),e.I0R(26,"nz-input-group",22)(27,"input",80),e.iHE("ngModelChange",function(n){e.usT(t);const l=e.GaO(2);return e.kNx(l.collateralPages,n)||(l.collateralPages=n),e.CGJ(n)}),e.C$Y()()()()()}if(2&o){const t=e.GaO(2),r=e.Gew(22),n=e.Gew(20);e.yG2(9),e.E7m("nzPrefix",""==t.collateralTCT?r:n)("nzStatus",""==t.collateralTCT?"error":""),e.yG2(),e.OKB("ngModel",t.collateralTCT),e.yG2(5),e.E7m("nzPrefix",""==t.collateralAddress?r:n)("nzStatus",""==t.collateralAddress?"error":""),e.yG2(),e.OKB("ngModel",t.collateralAddress),e.yG2(5),e.E7m("nzPrefix",0==t.collateralParcel?r:n)("nzStatus",0==t.collateralParcel?"error":""),e.yG2(),e.OKB("ngModel",t.collateralParcel),e.yG2(4),e.E7m("nzPrefix",0==t.collateralPages?r:n)("nzStatus",0==t.collateralPages?"error":""),e.yG2(),e.OKB("ngModel",t.collateralPages)}}function tt(o,s){if(1&o){const t=e.KQA();e.I0R(0,"div")(1,"div",27)(2,"div",78)(3,"h3"),e.OEk(4,"Chattel Mortgage Details"),e.C$Y()()(),e.I0R(5,"div",27)(6,"div",21)(7,"h5"),e.OEk(8,"Make"),e.C$Y(),e.I0R(9,"nz-input-group",22)(10,"input",80),e.iHE("ngModelChange",function(n){e.usT(t);const l=e.GaO(2);return e.kNx(l.vehicleMake,n)||(l.vehicleMake=n),e.CGJ(n)}),e.C$Y()()(),e.I0R(11,"div",21)(12,"h5"),e.OEk(13,"Type of Body"),e.C$Y(),e.I0R(14,"nz-input-group",22)(15,"input",80),e.iHE("ngModelChange",function(n){e.usT(t);const l=e.GaO(2);return e.kNx(l.vehicleType,n)||(l.vehicleType=n),e.CGJ(n)}),e.C$Y()()(),e.I0R(16,"div",25)(17,"h5"),e.OEk(18,"Motor No."),e.C$Y(),e.I0R(19,"nz-input-group",22)(20,"input",80),e.iHE("ngModelChange",function(n){e.usT(t);const l=e.GaO(2);return e.kNx(l.vehicleMotor,n)||(l.vehicleMotor=n),e.CGJ(n)}),e.C$Y()()()(),e.I0R(21,"div",27)(22,"div",81)(23,"h5"),e.OEk(24,"Chassis Number"),e.C$Y(),e.I0R(25,"nz-input-group",22)(26,"input",80),e.iHE("ngModelChange",function(n){e.usT(t);const l=e.GaO(2);return e.kNx(l.vehicleChassis,n)||(l.vehicleChassis=n),e.CGJ(n)}),e.C$Y()()(),e.I0R(27,"div",83)(28,"h5"),e.OEk(29,"Plate Number"),e.C$Y(),e.I0R(30,"nz-input-group",22)(31,"input",80),e.iHE("ngModelChange",function(n){e.usT(t);const l=e.GaO(2);return e.kNx(l.vehiclePlate,n)||(l.vehiclePlate=n),e.CGJ(n)}),e.C$Y()()()(),e.I0R(32,"div",27)(33,"div",81)(34,"h5"),e.OEk(35,"MV File Number"),e.C$Y(),e.I0R(36,"nz-input-group",22)(37,"input",80),e.iHE("ngModelChange",function(n){e.usT(t);const l=e.GaO(2);return e.kNx(l.vehicleMV,n)||(l.vehicleMV=n),e.CGJ(n)}),e.C$Y()()(),e.I0R(38,"div",83)(39,"h5"),e.OEk(40,"CR No."),e.C$Y(),e.I0R(41,"nz-input-group",22)(42,"input",80),e.iHE("ngModelChange",function(n){e.usT(t);const l=e.GaO(2);return e.kNx(l.vehicleCR,n)||(l.vehicleCR=n),e.CGJ(n)}),e.C$Y()()()()()}if(2&o){const t=e.GaO(2),r=e.Gew(22),n=e.Gew(20);e.yG2(9),e.E7m("nzPrefix",""==t.vehicleMake?r:n)("nzStatus",""==t.vehicleMake?"error":""),e.yG2(),e.OKB("ngModel",t.vehicleMake),e.yG2(4),e.E7m("nzPrefix",""==t.vehicleType?r:n)("nzStatus",""==t.vehicleType?"error":""),e.yG2(),e.OKB("ngModel",t.vehicleType),e.yG2(4),e.E7m("nzPrefix",""==t.vehicleMotor?r:n)("nzStatus",""==t.vehicleMotor?"error":""),e.yG2(),e.OKB("ngModel",t.vehicleMotor),e.yG2(5),e.E7m("nzPrefix",""==t.vehicleChassis?r:n)("nzStatus",""==t.vehicleChassis?"error":""),e.yG2(),e.OKB("ngModel",t.vehicleChassis),e.yG2(4),e.E7m("nzPrefix",""==t.vehiclePlate?r:n)("nzStatus",""==t.vehiclePlate?"error":""),e.yG2(),e.OKB("ngModel",t.vehiclePlate),e.yG2(5),e.E7m("nzPrefix",""==t.vehicleMV?r:n)("nzStatus",""==t.vehicleMV?"error":""),e.yG2(),e.OKB("ngModel",t.vehicleMV),e.yG2(4),e.E7m("nzPrefix",""==t.vehicleCR?r:n)("nzStatus",""==t.vehicleCR?"error":""),e.yG2(),e.OKB("ngModel",t.vehicleCR)}}function nt(o,s){if(1&o&&(e.I0R(0,"div"),e.yuY(1,et,28,12,"div",12)(2,tt,43,21,"div",12),e.C$Y()),2&o){const t=e.GaO();let r,n;e.yG2(),e.E7m("ngIf","RealEstate"==(null==(r=t.formOrder.get("collateral"))?null:r.value)),e.yG2(),e.E7m("ngIf","RealEstate"!=(null==(n=t.formOrder.get("collateral"))?null:n.value))}}function ot(o,s){if(1&o&&(e.I0R(0,"div",120),e.OEk(1),e.C$Y()),2&o){const t=s.$implicit,r=s.index;e.yG2(),e.CAO("Check No. ",r+1,": ",t.chequeNumber," ")}}function rt(o,s){if(1&o&&(e.I0R(0,"nz-descriptions-item",118)(1,"div",20),e.yuY(2,ot,2,2,"div",119),e.C$Y()()),2&o){const t=e.GaO(2);let r;e.yG2(2),e.E7m("ngForOf",null==(r=t.formCheques.get("chequeNumbers"))?null:r.value)}}function it(o,s){if(1&o&&(e.I0R(0,"div")(1,"nz-descriptions",84)(2,"nz-descriptions-item",85),e.OEk(3),e.C$Y(),e.I0R(4,"nz-descriptions-item",86),e.OEk(5),e.C$Y(),e.I0R(6,"nz-descriptions-item",87),e.OEk(7),e.C$Y(),e.I0R(8,"nz-descriptions-item",88),e.OEk(9),e.wVc(10,"date"),e.C$Y(),e.I0R(11,"nz-descriptions-item",89),e.OEk(12),e.C$Y(),e.I0R(13,"nz-descriptions-item",90),e.OEk(14),e.C$Y(),e.I0R(15,"nz-descriptions-item",91),e.OEk(16),e.C$Y(),e.I0R(17,"nz-descriptions-item",92),e.OEk(18),e.C$Y(),e.I0R(19,"nz-descriptions-item",93),e.OEk(20),e.C$Y(),e.I0R(21,"nz-descriptions-item",94),e.OEk(22),e.C$Y(),e.I0R(23,"nz-descriptions-item",95),e.OEk(24),e.C$Y(),e.I0R(25,"nz-descriptions-item",96),e.OEk(26),e.C$Y(),e.I0R(27,"nz-descriptions-item",97),e.OEk(28),e.C$Y(),e.I0R(29,"nz-descriptions-item",98),e.OEk(30),e.C$Y(),e.I0R(31,"nz-descriptions-item",99),e.OEk(32),e.C$Y(),e.I0R(33,"nz-descriptions-item",100),e.OEk(34),e.C$Y()(),e.I0R(35,"nz-descriptions",101)(36,"nz-descriptions-item",102),e.OEk(37),e.C$Y(),e.I0R(38,"nz-descriptions-item",103),e.OEk(39),e.C$Y(),e.I0R(40,"nz-descriptions-item",104),e.OEk(41),e.C$Y(),e.I0R(42,"nz-descriptions-item",105),e.OEk(43),e.C$Y(),e.I0R(44,"nz-descriptions-item",106),e.OEk(45),e.C$Y(),e.I0R(46,"nz-descriptions-item",107),e.OEk(47),e.C$Y(),e.I0R(48,"nz-descriptions-item",108),e.OEk(49),e.wVc(50,"date"),e.C$Y(),e.I0R(51,"nz-descriptions-item",109),e.OEk(52),e.wVc(53,"date"),e.C$Y(),e.I0R(54,"nz-descriptions-item",110),e.OEk(55),e.C$Y(),e.I0R(56,"nz-descriptions-item",111),e.OEk(57),e.C$Y(),e.I0R(58,"nz-descriptions-item",112),e.OEk(59),e.C$Y(),e.I0R(60,"nz-descriptions-item",113),e.OEk(61),e.C$Y(),e.yuY(62,rt,3,1,"nz-descriptions-item",114),e.I0R(63,"nz-descriptions-item",115),e.OEk(64),e.C$Y(),e.I0R(65,"nz-descriptions-item",116),e.OEk(66),e.C$Y(),e.I0R(67,"nz-descriptions-item",117),e.OEk(68),e.C$Y()()()),2&o){const t=e.GaO();let r,n,l,m,p,h,v,E,T,S,w,N,D,Y,$,A,P,q,L,B,F,Q,K,J,H,W,X,Z,ee,te,ne,le;e.yG2(3),e.cNF(null==(r=t.formBorrower.get("lastName"))?null:r.value),e.yG2(2),e.cNF(null==(n=t.formBorrower.get("firstName"))?null:n.value),e.yG2(2),e.cNF(null==(l=t.formBorrower.get("middleName"))?null:l.value),e.yG2(2),e.cNF(e.g7$(10,32,null==(m=t.formBorrower.get("birthDate"))?null:m.value,"yyyy-MM-dd")),e.yG2(3),e.cNF(null==(p=t.formBorrower.get("age"))?null:p.value),e.yG2(2),e.cNF(t.sex[(null==(h=t.formBorrower.get("sexId"))?null:h.value)-1].name),e.yG2(2),e.oRS("",t.civilstatus[(null==(v=t.formBorrower.get("civilStatusId"))?null:v.value)-1].name," "),e.yG2(2),e.cNF(null==(E=t.formBorrower.get("spouse"))?null:E.value),e.yG2(2),e.oRS("",null==(T=t.formBorrower.get("spouseOccupation"))?null:T.value," "),e.yG2(2),e.cNF(null==(S=t.formBorrower.get("address"))?null:S.value),e.yG2(2),e.cNF(null==(w=t.formBorrower.get("city"))?null:w.value),e.yG2(2),e.cNF(null==(N=t.formBorrower.get("province"))?null:N.value),e.yG2(2),e.cNF(null==(D=t.formBorrower.get("zipCode"))?null:D.value),e.yG2(2),e.cNF(null==(Y=t.formBorrower.get("contactNumber"))?null:Y.value),e.yG2(2),e.cNF(null==($=t.formBorrower.get("occupation"))?null:$.value),e.yG2(2),e.cNF(null==(A=t.formBorrower.get("tinNumber"))?null:A.value),e.yG2(3),e.oRS("\u20b1",null==(P=t.formOrder.get("loanAmount"))?null:P.value,""),e.yG2(2),e.oRS("",null==(q=t.formOrder.get("collateral"))?null:q.value," "),e.yG2(2),e.oRS("",t.terms[(null==(L=t.formOrder.get("termId"))?null:L.value)-1].value," "),e.yG2(2),e.cNF(null==(B=t.formOrder.get("modeOfPayment"))?null:B.value),e.yG2(2),e.cNF(t.banks[(null==(F=t.formOrder.get("bankId"))?null:F.value)-1].name),e.yG2(2),e.oRS("",t.interests[(null==(Q=t.formOrder.get("interestId"))?null:Q.value)-1].percentage,"% "),e.yG2(2),e.cNF(e.g7$(50,35,null==(K=t.formOrder.get("dateGranted"))?null:K.value,"yyyy-MM-dd HH:mm")),e.yG2(3),e.cNF(e.g7$(53,38,null==(J=t.formOrder.get("dueDate"))?null:J.value,"yyyy-MM-dd")),e.yG2(3),e.cNF(null==(H=t.formOrder.get("kindOfLoan"))?null:H.value),e.yG2(2),e.cNF(null==(W=t.formOrder.get("coMakerName"))?null:W.value),e.yG2(2),e.oRS("",null==(X=t.formOrder.get("coMakerContact"))?null:X.value," "),e.yG2(2),e.cNF(null==(Z=t.formOrder.get("coMakerAddress"))?null:Z.value),e.yG2(),e.E7m("ngIf","PDC"==(null==(ee=t.formOrder.get("modeOfPayment"))?null:ee.value)),e.yG2(2),e.oRS("",null!=(te=t.formOrder.get("vatStatus"))&&te.value?"Applied":"Not Applied"," "),e.yG2(2),e.oRS("",null!=(ne=t.formOrder.get("mortStatus"))&&ne.value?"Applied":"Not Applied"," "),e.yG2(2),e.cNF(null!=(le=t.formOrder.get("notaryFeeStatus"))&&le.value?"Applied":"Not Applied")}}function at(o,s){if(1&o){const t=e.KQA();e.I0R(0,"button",127),e.qCj("click",function(){e.usT(t);const n=e.GaO(2);return e.CGJ(n.previousStep())}),e.OEk(1,"BACK"),e.C$Y()}}function lt(o,s){if(1&o){const t=e.KQA();e.I0R(0,"button",128),e.qCj("click",function(){e.usT(t);const n=e.GaO(2);return e.CGJ(n.nextStep())}),e.OEk(1,"NEXT"),e.C$Y()}if(2&o){const t=e.GaO(2);e.E7m("disabled",t.disableNext(t.currentIndex))}}function st(o,s){if(1&o){const t=e.KQA();e.I0R(0,"button",129),e.qCj("click",function(){e.usT(t);const n=e.GaO(2);return e.CGJ(n.submit())}),e.OEk(1,"SUBMIT"),e.C$Y()}if(2&o){const t=e.GaO(2);e.E7m("disabled",t.formBorrower.invalid||t.formOrder.invalid)}}function ut(o,s){if(1&o){const t=e.KQA();e.I0R(0,"div")(1,"div",121)(2,"div",122)(3,"div")(4,"button",123),e.qCj("click",function(){e.usT(t);const n=e.GaO();return e.CGJ(n.close())}),e.OEk(5,"CANCEL"),e.C$Y()(),e.I0R(6,"div"),e.yuY(7,at,2,0,"button",124)(8,lt,2,1,"button",125)(9,st,2,1,"button",126),e.C$Y()()()()}if(2&o){const t=e.GaO();e.yG2(7),e.E7m("ngIf",t.currentIndex>0),e.yG2(),e.E7m("ngIf",t.currentIndex<3),e.yG2(),e.E7m("ngIf",3==t.currentIndex)}}function ct(o,s){1&o&&e.wR5(0,"i",130)}function mt(o,s){1&o&&e.wR5(0,"i",131)}let dt=(()=>{class o{dialogRef;service;borrowerService;sexService;civilStatusService;termService;bankService;interestService;collateralService;toastService;_formBuilder;constructor(t,r,n,l,m,p,h,v,E,T,S){this.dialogRef=t,this.service=r,this.borrowerService=n,this.sexService=l,this.civilStatusService=m,this.termService=p,this.bankService=h,this.interestService=v,this.collateralService=E,this.toastService=T,this._formBuilder=S}CLEAVE_CONFIG=ue.E;formBorrower;formOrder;formCheques;loanType="New";isBorrowerEdit=!1;borrower=0;data;currentIndex=0;chequeNumberDuplicate=!1;checkInterval;collateralTCT="";collateralAddress="";collateralParcel=0;collateralPages=0;vehicleMake="";vehicleType="";vehicleMotor="";vehicleChassis="";vehiclePlate="";vehicleMV="";vehicleCR="";ngOnInit(){this.getBorrowers(),this.getSex(),this.getCivilStatus(),this.getInterests(),this.getTerms(),this.getBanks(),this.formBorrower=this._formBuilder.group({lastName:["",a.AQ.required],firstName:["",a.AQ.required],middleName:["",a.AQ.required],birthDate:["",a.AQ.required],age:["",a.AQ.required],sexId:["",a.AQ.required],civilStatusId:["",a.AQ.required],spouse:["",a.AQ.required],spouseOccupation:["",a.AQ.required],address:["",a.AQ.required],city:["",a.AQ.required],province:["",a.AQ.required],zipCode:["",a.AQ.required],contactNumber:["",a.AQ.required],occupation:["",a.AQ.required],tinNumber:["",a.AQ.required]}),this.formOrder=this._formBuilder.group({loanAmount:["",a.AQ.required],collateral:["",a.AQ.required],termId:["",a.AQ.required],modeOfPayment:["",a.AQ.required],paymentTerms:["",a.AQ.required],bankId:["",a.AQ.required],interestId:["",a.AQ.required],dateGranted:["",a.AQ.required],dueDate:["",a.AQ.required],kindOfLoan:["",a.AQ.required],coMakerName:["",a.AQ.required],coMakerContact:["",a.AQ.required],coMakerAddress:["",a.AQ.required],vatStatus:[!1,a.AQ.required],mortStatus:[!1,a.AQ.required],notaryFeeStatus:[!1,a.AQ.required]}),this.formCheques=this._formBuilder.group({chequeNumbers:this._formBuilder.array([])}),this.data=this.dialogRef.getConfig().nzData}ngAfterViewInit(){this.data&&this.initData(),this.checkInterval=setInterval(()=>{this.isChecksInvalid()},300)}ngOnDestroy(){clearInterval(this.checkInterval)}get chequeNumberControls(){return this.formCheques.get("chequeNumbers").controls}initData(){let t=this.data;this.loanType=t.loanType,this.getPersonalData(t.borrowerId,"edit"),this.getCollateralDetails(t.id),this.formOrder.patchValue({loanAmount:t.loanAmount,collateral:t.collateral,termId:t.termId,modeOfPayment:t.modeOfPayment,paymentTerms:t.paymentTerms,bankId:t.bankId,interestId:t.interestId,dateGranted:new Date(t.dateGranted),dueDate:new Date(t.dueDate),kindOfLoan:t.kindOfLoan,coMakerName:t.coMakerName,coMakerContact:t.coMakerContact,coMakerAddress:t.coMakerAddress,vatStatus:t.vatStatus,mortStatus:t.mortStatus,notaryFeeStatus:t.notaryFeeStatus}),this.setCheckNos(t)}getPersonalData(t,r){t>0?(this.borrower=t,this.service.getList({borrowerId:t,status:"Active"},null,!0).subscribe({next:n=>{n.data.length>0&&"create"==r?this.toastService.show("success","Create Loan","This borrower has an existing active loan."):this.borrowerService.getDetails(t,!0).subscribe({next:m=>{const p=m.data;this.formBorrower.patchValue({lastName:p.lastName,firstName:p.firstName,middleName:p.middleName,birthDate:new Date(p.birthDate),age:p.age,sexId:p.sexId,civilStatusId:p.civilStatusId,spouse:p.spouse,spouseOccupation:p.spouseOccupation,address:p.address,city:p.city,province:p.province,zipCode:p.zipCode,contactNumber:p.contactNumber,occupation:p.occupation,tinNumber:p.tinNumber}),this.formBorrower.disable()}})}})):(this.formBorrower.reset(),this.formBorrower.enable())}collateral;getCollateralDetails(t){this.collateralService.getList({loanId:t},!1,!1).subscribe({next:r=>{this.collateral=r.data[0],this.collateralTCT=this.collateral.details.collateralTCT,this.collateralAddress=this.collateral.details.collateralAddress,this.collateralParcel=this.collateral.details.collateralParcel,this.collateralPages=this.collateral.details.collateralPages}})}submit(){this.formOrder.value.loanType=this.loanType,this.formOrder.value.vatSatus=this.formOrder.value.vatSatus?1:0,this.formOrder.value.mortStatus=this.formOrder.value.mortStatus?1:0,this.formOrder.value.notaryFeeStatus=this.formOrder.value.notaryFeeStatus?1:0,this.formOrder.value.chequeNumbers="PDC"==this.formOrder.value.modeOfPayment?this.formCheques.value.chequeNumbers:[],this.data?"Restructure"==this.loanType?this.service.changestatus(this.data.id,{status:"Restructured"}).subscribe({next:t=>{this.formOrder.value.borrowerId=this.borrower,this.service.create(this.formOrder.value).subscribe({next:r=>{this.createUpdateCollateral(r)}})}}):this.isBorrowerEdit?this.borrowerService.update(this.data.borrowerId,this.formBorrower.value).subscribe({next:t=>{this.service.update(this.data.id,this.formOrder.value).subscribe({next:r=>{this.createUpdateCollateral(r)}})}}):this.service.update(this.data.id,this.formOrder.value).subscribe({next:t=>{this.createUpdateCollateral(t)}}):0==this.borrower?this.borrowerService.create(this.formBorrower.value).subscribe({next:t=>{this.formOrder.value.borrowerId=t.data.id,this.service.create(this.formOrder.value).subscribe({next:n=>{this.createUpdateCollateral(n)}})}}):(this.formOrder.value.borrowerId=this.borrower,this.service.create(this.formOrder.value).subscribe({next:t=>{this.createUpdateCollateral(t)}}))}createUpdateCollateral(t){const r=t.data;let n={};n={loanId:this.data.id,type:r.collateral,details:{collateralTCT:this.collateralTCT,collateralAddress:this.collateralAddress,collateralParcel:this.collateralParcel,collateralPages:this.collateralPages}},"Chattel"==r.collateral&&(n={loanId:this.data.id,type:r.collateral,details:{vehicleMake:this.vehicleMake,vehicleType:this.vehicleType,vehicleMotor:this.vehicleMotor,vehicleChassis:this.vehicleChassis,vehiclePlate:this.vehiclePlate,vehicleMV:this.vehicleMV,vehicleCR:this.vehicleCR}}),this.collateral?this.collateralService.update(this.collateral.id,n).subscribe({next:l=>{this.toastService.show("success","EDIT LOAN DETAILS",t.message),this.dialogRef.close({event:"close",data:!0})}}):this.collateralService.create(n).subscribe({next:l=>{this.toastService.show("success","CREATE LOAN DETAILS",t.message),this.dialogRef.close({event:"close",data:!0})}})}close(){this.dialogRef.close({event:"close",data:!1})}editBorrower(){this.isBorrowerEdit=!this.isBorrowerEdit,this.isBorrowerEdit?this.formBorrower.enable():this.formBorrower.disable()}nextStep(){this.currentIndex+=1}disableNext(t){let r=!1;return r=0==t?!(0!=t||!this.formBorrower.invalid):1==t?!(1!=t||!(this.formOrder.invalid||"PDC"==this.formOrder.value.modeOfPayment&&(this.formCheques.invalid||this.chequeNumberDuplicate))):!(2!=t||"RealEstate"!=this.formOrder.value.collateral||""!=this.collateralTCT||""!=this.collateralAddress||0!=this.collateralParcel||0!=this.collateralPages||"Chattel"!=this.formOrder.value.collateral||""!=this.vehicleMake||""!=this.vehicleType||""!=this.vehicleMotor||""!=this.vehicleChassis||""!=this.vehiclePlate||""!=this.vehicleMV||!this.vehicleCR),r}previousStep(){this.currentIndex-=1}isChecksInvalid(){const t=this.formCheques.get("chequeNumbers").value;t.length>0&&(this.chequeNumberDuplicate=this.checkDuplicates(t))}checkDuplicates(t){const r=[];return t.forEach(n=>{r.push(n.chequeNumber)}),[...new Set(r)].length!==r.length}getError(t){return this.formCheques.get("chequeNumbers").controls[t].get("chequeNumber")}borrowers=[];getBorrowers(){this.borrowerService.getList(null,null,!0).subscribe({next:t=>{this.borrowers=t.data}})}sex=[];getSex(){this.sexService.getList(null,null,!0).subscribe({next:t=>{this.sex=t.data}})}civilstatus=[];getCivilStatus(){this.civilStatusService.getList(null,null,!0).subscribe({next:t=>{this.civilstatus=t.data}})}interests=[];getInterests(){this.interestService.getList(null,null,!0).subscribe({next:t=>{this.interests=t.data.map(r=>(r.percentage=parseFloat(r.percentage),r))}})}terms=[];getTerms(){this.termService.getList(null,null,!0).subscribe({next:t=>{this.terms=t.data}})}banks=[];getBanks(){this.bankService.getList(null,null,!0).subscribe({next:t=>{this.banks=t.data}})}chequeNumbers=new Array;setCheckNos(t){if(t&&t.chequeNumbers.length>0)t.chequeNumbers.forEach((r,n)=>{const l=this.chequeNumberControls[n];l?l.patchValue({chequeNumber:r.chequeNumber}):this.formCheques.get("chequeNumbers").push(this._formBuilder.group({chequeNumber:[r.chequeNumber]}))});else{const l=this.terms[this.formOrder.value.termId-1].value/("Semi-Monthly"==this.formOrder.value.paymentTerms?15:30);this.formCheques.get("chequeNumbers").clear();for(let m=0;m<l;m++)this.formCheques.get("chequeNumbers").push(this._formBuilder.group({chequeNumber:[""]}))}}static \u0275fac=function(r){return new(r||o)(e.GI1(z.U7),e.GI1(G.If),e.GI1(ce.K),e.GI1(G.C_),e.GI1(G.Ax),e.GI1(G.eQ),e.GI1(G.AX),e.GI1(G.Wg),e.GI1(G.aM),e.GI1(G.s9),e.GI1(a.im))};static \u0275cmp=e.In1({type:o,selectors:[["app-dialog-manage-loans"]],decls:23,vars:7,consts:[["nz-row","",1,"mb-3"],["nz-col","","nzSpan","4"],["required","",1,"w-full",3,"ngModel","disabled"],["nzValue","New","nzLabel","New"],["nzValue","Renewal","nzLabel","Renewal"],["nzValue","Restructure","nzLabel","Restructure"],["nzProgressDot","",3,"nzCurrent"],["nzTitle","Personal Data"],["nzTitle","Loan Data"],["nzTitle","Collateral Details"],["nzTitle","Review"],[1,"steps-content","w-full"],[4,"ngIf"],[4,"nzModalFooter"],["prefixTemplateCheck",""],["prefixTemplateError",""],[1,"flex","justify-end"],["nz-button","","nzType","primary",3,"click",4,"ngIf"],["nzShowSearch","","nzAllowClear","","nzPlaceHolder","Select a borrower","class","w-1/4",3,"ngModel","ngModelChange",4,"ngIf"],[3,"formGroup"],["nz-row",""],["nz-col","","nzSpan","8",1,"pr-1"],[3,"nzPrefix","nzStatus"],["nz-input","","type","text","nz-input","","formControlName","lastName"],["nz-input","","type","text","nz-input","","formControlName","firstName"],["nz-col","","nzSpan","8"],["nz-input","","type","text","nz-input","","formControlName","middleName"],["nz-row","",1,"mt-1"],["formControlName","birthDate",1,"w-full",3,"nzStatus","nzMode"],["nz-input","","type","number","nz-input","","formControlName","age"],["formControlName","sexId",1,"w-full",3,"nzStatus"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["formControlName","civilStatusId",1,"w-full",3,"nzStatus"],["nz-input","","type","text","nz-input","","formControlName","spouse"],["nz-input","","type","text","nz-input","","formControlName","spouseOccupation"],["nz-col","","nzSpan","24"],["nz-input","","type","text","nz-input","","formControlName","address"],["nz-input","","type","text","nz-input","","formControlName","city"],["nz-input","","type","text","nz-input","","formControlName","province"],["nz-input","","type","number","nz-input","","formControlName","zipCode",3,"cleave"],["nz-input","","type","text","nz-input","","formControlName","contactNumber",3,"cleave"],["nz-input","","type","text","nz-input","","formControlName","occupation"],["nz-input","","type","text","nz-input","","formControlName","tinNumber",3,"cleave"],["nz-button","","nzType","primary",3,"click"],["nzShowSearch","","nzAllowClear","","nzPlaceHolder","Select a borrower",1,"w-1/4",3,"ngModel","ngModelChange"],["nzValue","0","nzLabel","New"],[3,"nzValue","nzLabel"],["nz-input","","type","number","nz-input","","formControlName","loanAmount"],["formControlName","collateral",1,"w-full",3,"nzStatus"],["nzValue","RealEstate","nzLabel","Real Estate Mortgage"],["nzValue","Chattel","nzLabel","Chattel Mortgage"],["formControlName","termId",1,"w-full",3,"nzStatus"],["formControlName","paymentTerms",1,"w-full",3,"nzStatus"],["nzValue","Semi-Monthly","nzLabel","Semi-Monthly"],["nzValue","Monthly","nzLabel","Monthly"],["formControlName","bankId",1,"w-full",3,"nzStatus"],["formControlName","interestId",1,"w-full",3,"nzStatus"],["nzShowTime","","nzFormat","yyyy-MM-dd HH:mm:ss","formControlName","dateGranted",1,"w-full",3,"nzStatus","nzMode"],["formControlName","dueDate",1,"w-full",3,"nzStatus","nzMode"],["nz-input","","type","text","nz-input","","formControlName","kindOfLoan"],["nz-input","","type","text","nz-input","","formControlName","coMakerName"],["nz-input","","type","text","nz-input","","formControlName","coMakerContact",3,"cleave"],["nz-input","","type","text","nz-input","","formControlName","coMakerAddress"],["formControlName","modeOfPayment",1,"w-full",3,"nzStatus","ngModelChange"],["nzValue","NonCheque","nzLabel","Non-Cheque Payments"],["nzValue","PDC","nzLabel","PDC"],["nz-col","","nzSpan","8",1,"pr-1","flex","items-end"],["nz-checkbox","","formControlName","vatStatus",1,"pr-3"],["nz-checkbox","","formControlName","mortStatus",1,"pr-3"],["nz-checkbox","","formControlName","notaryFeeStatus",1,"pr-3"],["nz-row","","class","mt-1",4,"ngIf"],["formArrayName","chequeNumbers",4,"ngIf"],["class","text-sm text-red-600",4,"ngIf"],[1,"text-sm","text-red-600"],["formArrayName","chequeNumbers"],[3,"formGroupName",4,"ngFor","ngForOf"],[3,"formGroupName"],["nz-input","","type","text","nz-input","","formControlName","chequeNumber"],["nz-col","","nzSpan","24",1,"text-center"],["nz-col","","nzSpan","24",1,"pr-1"],["nz-input","","type","text","nz-input","",3,"ngModel","ngModelChange"],["nz-col","","nzSpan","12",1,"pr-1"],["nz-input","","type","number","nz-input","",3,"ngModel","ngModelChange"],["nz-col","","nzSpan","12"],["nzTitle","Personal Data","nzBordered","","nzSize","small"],["nzTitle","Last Name"],["nzTitle","First Name"],["nzTitle","Middle Initial"],["nzTitle","Birth Date"],["nzTitle","Age"],["nzTitle","Sex"],["nzTitle","Civil Status"],["nzTitle","Spouse"],["nzTitle","Spouse Occupation"],["nzTitle","Address","nzSpan","3"],["nzTitle","Municipality"],["nzTitle","Province"],["nzTitle","Zip Code"],["nzTitle","Contact No."],["nzTitle","Occupation"],["nzTitle","TIN No."],["nzTitle","Loan Details","nzBordered","","nzSize","small"],["nzTitle","Loan Amount"],["nzTitle","Collateral"],["nzTitle","Terms of days"],["nzTitle","Mode Of Payment"],["nzTitle","Bank"],["nzTitle","Interest"],["nzTitle","Date Granted"],["nzTitle","Due Date"],["nzTitle","Kind Of Loan"],["nzTitle","Co-Maker"],["nzTitle","Co-Maker Contact No."],["nzTitle","Co-Maker Address"],["nzTitle","Check No.","nzSpan","3",4,"ngIf"],["nzTitle","VAT (DS(PN)) - 12%"],["nzTitle","DS(Mort.) - 1.2%"],["nzTitle","Notary Fee - \u20b1250"],["nzTitle","Check No.","nzSpan","3"],["nz-col","","nzSpan","6",4,"ngFor","ngForOf"],["nz-col","","nzSpan","6"],["mz-row",""],["nz-col","","nzSpan","24",1,"flex","justify-between"],["nz-button","",1,"bg-grey-light","rounded-xl","text-white",3,"click"],["nz-button","","class","bg-secondary rounded-xl text-white",3,"click",4,"ngIf"],["nz-button","","class","bg-primary rounded-xl mx-1 text-white disabled:bg-grey",3,"disabled","click",4,"ngIf"],["nz-button","","class","bg-primary rounded-xl mx-1 text-white",3,"disabled","click",4,"ngIf"],["nz-button","",1,"bg-secondary","rounded-xl","text-white",3,"click"],["nz-button","",1,"bg-primary","rounded-xl","mx-1","text-white","disabled:bg-grey",3,"disabled","click"],["nz-button","",1,"bg-primary","rounded-xl","mx-1","text-white",3,"disabled","click"],["nz-icon","","nzType","check-circle","nzTheme","outline"],["nz-icon","","nzType","exclamation-circle","nzTheme","outline","nzTooltipTitle","This field is required!","nzTooltipPlacement","bottom","nz-tooltip",""]],template:function(r,n){1&r&&(e.I0R(0,"div",0)(1,"div",1)(2,"h5"),e.OEk(3,"Loan Type"),e.C$Y(),e.I0R(4,"nz-select",2),e.wR5(5,"nz-option",3)(6,"nz-option",4)(7,"nz-option",5),e.C$Y()()(),e.I0R(8,"nz-steps",6),e.wR5(9,"nz-step",7)(10,"nz-step",8)(11,"nz-step",9)(12,"nz-step",10),e.C$Y(),e.I0R(13,"div",11),e.yuY(14,f,90,38,"div",12)(15,Ze,84,28,"div",12)(16,nt,3,2,"div",12)(17,it,69,41,"div",12),e.C$Y(),e.yuY(18,ut,10,3,"div",13)(19,ct,1,0,"ng-template",null,14,e.gJz)(21,mt,1,0,"ng-template",null,15,e.gJz)),2&r&&(e.yG2(4),e.E7m("ngModel",n.loanType)("disabled","Restructure"==n.loanType),e.yG2(4),e.E7m("nzCurrent",n.currentIndex),e.yG2(6),e.E7m("ngIf",0==n.currentIndex),e.yG2(),e.E7m("ngIf",1==n.currentIndex),e.yG2(),e.E7m("ngIf",2==n.currentIndex),e.yG2(),e.E7m("ngIf",3==n.currentIndex))},dependencies:[b.ay,b.u_,i.Ez,I.k,x.o9,R.If,g.QD,g.ox,ie.Cs,ie.CM,ae.Ep,me.iO,_.cv,_.qG,_.sj,C.eE,C.Mh,re.Qx,re.oF,O.qG,z.SW,a.sz,a.ot,a.O4,a.ue,a.u,a.eJ,a.uW,a.Wo,a.Kh,a.uE,a._G,de._,b.y]})}return o})();var pt=c(5016);function gt(o,s){if(1&o&&e.wR5(0,"nz-option",21),2&o){const t=s.$implicit;e.E7m("nzValue",t.id)("nzLabel",t.name+" ("+t.value+" days)")}}function ht(o,s){if(1&o){const t=e.KQA();e.I0R(0,"div",17)(1,"h5"),e.OEk(2,"Terms of days"),e.C$Y(),e.I0R(3,"nz-select",18),e.qCj("ngModelChange",function(){e.usT(t);const n=e.GaO();return e.CGJ(n.setPenalty())}),e.wR5(4,"nz-option",19),e.yuY(5,gt,1,2,"nz-option",20),e.C$Y()()}if(2&o){const t=e.GaO();let r;e.yG2(3),e.E7m("nzStatus",null!=(r=t.formGroup.get("termId"))&&r.hasError("required")?"error":""),e.yG2(2),e.E7m("ngForOf",t.terms)}}function ft(o,s){if(1&o&&(e.I0R(0,"div",1)(1,"div",2)(2,"h5"),e.OEk(3),e.C$Y(),e.I0R(4,"nz-input-group",12),e.wR5(5,"input",22),e.C$Y()(),e.I0R(6,"div",17)(7,"h5"),e.OEk(8),e.C$Y(),e.I0R(9,"nz-input-group",12),e.wR5(10,"input",23),e.C$Y()()()),2&o){const t=e.GaO(),r=e.Gew(23),n=e.Gew(21);let l,m,p,h,v,E;e.yG2(3),e.oRS(" ","OnlineBanking"==(null==(l=t.formGroup.get("modeOfPayment"))?null:l.value)||"Cheque"==(null==(l=t.formGroup.get("modeOfPayment"))?null:l.value)?"Bank":(null==(l=t.formGroup.get("modeOfPayment"))?null:l.value)+" Number"," "),e.yG2(),e.E7m("nzPrefix",null!=(m=t.formGroup.get("account"))&&m.hasError("required")?r:n)("nzStatus",null!=(p=t.formGroup.get("account"))&&p.hasError("required")?"error":""),e.yG2(4),e.cNF("OnlineBanking"==(null==(h=t.formGroup.get("modeOfPayment"))?null:h.value)?"Account Number":"Cheque"==(null==(h=t.formGroup.get("modeOfPayment"))?null:h.value)?"Cheque Number":"Transaction Number"),e.yG2(),e.E7m("nzPrefix",null!=(v=t.formGroup.get("transactionNumber"))&&v.hasError("required")?r:n)("nzStatus",null!=(E=t.formGroup.get("transactionNumber"))&&E.hasError("required")?"error":"")}}function _t(o,s){if(1&o){const t=e.KQA();e.I0R(0,"div")(1,"div",1)(2,"div",24)(3,"button",25),e.qCj("click",function(){e.usT(t);const n=e.GaO();return e.CGJ(n.close())}),e.OEk(4,"CANCEL"),e.C$Y(),e.I0R(5,"button",26),e.qCj("click",function(){e.usT(t);const n=e.GaO();return e.CGJ(n.submit())}),e.OEk(6,"SUBMIT"),e.C$Y()()()()}if(2&o){const t=e.GaO();e.yG2(5),e.E7m("disabled",t.formGroup.invalid)}}function zt(o,s){1&o&&e.wR5(0,"i",27)}function Ct(o,s){1&o&&e.wR5(0,"i",28)}let vt=(()=>{class o{dialogRef;service;termService;toastService;dialogService;_formBuilder;datePipe;constructor(t,r,n,l,m,p,h){this.dialogRef=t,this.service=r,this.termService=n,this.toastService=l,this.dialogService=m,this._formBuilder=p,this.datePipe=h}formGroup;sched=[];loan=[];data;ngOnInit(){this.getTerms(),this.formGroup=this._formBuilder.group({modeOfPayment:["Cash",a.AQ.required],termId:["0"],account:[""],transactionNumber:[""],amount:[0,a.AQ.required]}),this.data=this.dialogRef.getConfig().nzData,this.data&&this.initData()}initData(){this.loan=this.data.loan,this.sched=this.data.schedule;let t=this.sched.amountDue;"full"==this.data.payment?(this.sched.penaltyDays>0&&(t=parseFloat(this.sched.amountDue)+parseFloat(this.sched.penaltyFee)),this.formGroup.patchValue({amount:parseFloat(t).toFixed(2)})):(this.sched.penaltyDays>0&&(t=parseFloat(this.sched.penaltyFee)),this.formGroup.patchValue({amount:parseFloat(t).toFixed(2)}))}setPenalty(){const t=this.terms[this.formGroup.value.termId-1].value,r=this.sched.amountDue*(t/30*.04);this.formGroup.patchValue({amount:parseFloat((r+r*(t/30*.12)).toString()).toFixed(2)})}submit(){const t={loanId:this.loan.id,paymentAmount:this.formGroup.value.amount,dueAmount:parseFloat(this.sched.amountDue),penaltyAmount:parseFloat(this.sched.penaltyFee),dueDate:this.datePipe.transform(this.sched.dueDate,"yyyy-MM-dd"),penaltyDays:this.sched.penaltyDays,details:this.formGroup.value,status:"full"==this.data.payment?"Paid":"PaidRestructure"};"full"==this.data.payment?this.service.create(t).subscribe({next:r=>{this.toastService.show("success","Payments",r.message),this.dialogRef.close({event:"close",data:!0})},error:r=>{this.toastService.show("error","Payments",r.message)}}):(this.loan.loanType="Restructure",this.dialogService.manageOrders(this.loan).afterClose.subscribe({next:r=>{r.data&&this.service.create(t).subscribe({next:n=>{this.toastService.show("success","Payments",n.message),this.dialogRef.close({event:"close",data:!0})},error:n=>{this.toastService.show("error","Payments",n.message)}})}}))}close(){this.dialogRef.close({event:"close",data:!1})}terms=[];getTerms(){this.termService.getList(null,null,!0).subscribe({next:t=>{this.terms=t.data}})}static \u0275fac=function(r){return new(r||o)(e.GI1(z.U7),e.GI1(pt.E),e.GI1(G.eQ),e.GI1(G.s9),e.GI1(Ke),e.GI1(a.im),e.GI1(b.y))};static \u0275cmp=e.In1({type:o,selectors:[["app-dialog-manage-payments"]],decls:24,vars:6,consts:[[3,"formGroup"],["nz-row",""],["nz-col","","nzSpan","12",1,"pr-1"],["formControlName","modeOfPayment",1,"w-full",3,"nzStatus"],["nzValue","Cash","nzLabel","Cash"],["nzValue","OnlineBanking","nzLabel","Online Banking"],["nzValue","GCash","nzLabel","GCash"],["nzValue","Maya","nzLabel","Maya"],["nzValue","Cheque","nzLabel","Cheque"],["nz-col","","nzSpan","12",4,"ngIf"],["nz-row","",4,"ngIf"],["nz-col","","nzSpan","24"],[3,"nzPrefix","nzStatus"],["nz-input","","type","number","nz-input","","formControlName","amount"],[4,"nzModalFooter"],["prefixTemplateCheck",""],["prefixTemplateError",""],["nz-col","","nzSpan","12"],["formControlName","termId",1,"w-full",3,"nzStatus","ngModelChange"],["nzValue","0","nzLabel","Today"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],[3,"nzValue","nzLabel"],["nz-input","","type","text","nz-input","","formControlName","account"],["nz-input","","type","text","nz-input","","formControlName","transactionNumber"],["nz-col","","nzSpan","24",1,"flex","justify-between"],["nz-button","",1,"bg-grey-light","rounded-xl","text-white",3,"click"],["nz-button","",1,"bg-primary","rounded-xl","text-white","disabled:bg-grey",3,"disabled","click"],["nz-icon","","nzType","check-circle","nzTheme","outline",1,"text-green-600"],["nz-icon","","nzType","exclamation-circle","nzTheme","outline","nzTooltipTitle","Invalid Input!","nzTooltipPlacement","bottom","nz-tooltip","",1,"text-red-600"]],template:function(r,n){if(1&r&&(e.I0R(0,"form",0)(1,"div",1)(2,"div",2)(3,"h5"),e.OEk(4,"Mode Of Payment"),e.C$Y(),e.I0R(5,"nz-select",3),e.wR5(6,"nz-option",4)(7,"nz-option",5)(8,"nz-option",6)(9,"nz-option",7)(10,"nz-option",8),e.C$Y()(),e.yuY(11,ht,6,2,"div",9),e.C$Y(),e.yuY(12,ft,11,6,"div",10),e.I0R(13,"div",1)(14,"div",11)(15,"h5"),e.OEk(16,"Amount"),e.C$Y(),e.I0R(17,"nz-input-group",12),e.wR5(18,"input",13),e.C$Y()()()(),e.yuY(19,_t,7,1,"div",14)(20,zt,1,0,"ng-template",null,15,e.gJz)(22,Ct,1,0,"ng-template",null,16,e.gJz)),2&r){const l=e.Gew(21),m=e.Gew(23);let p,h,v,E;e.E7m("formGroup",n.formGroup),e.yG2(5),e.E7m("nzStatus",null!=(p=n.formGroup.get("modeOfPayment"))&&p.hasError("required")?"error":""),e.yG2(6),e.E7m("ngIf",n.data&&"full"!=n.data.payment),e.yG2(),e.E7m("ngIf",""!==(null==(h=n.formGroup.get("modeOfPayment"))?null:h.value)&&"Cash"!==(null==(h=n.formGroup.get("modeOfPayment"))?null:h.value)),e.yG2(5),e.E7m("nzPrefix",null!=(v=n.formGroup.get("amount"))&&v.hasError("required")?m:l)("nzStatus",null!=(E=n.formGroup.get("amount"))&&E.hasError("required")?"error":"")}},dependencies:[b.ay,b.u_,i.Ez,I.k,x.o9,R.If,g.QD,g.ox,_.cv,_.qG,_.sj,C.eE,C.Mh,O.qG,z.SW,a.sz,a.ot,a.O4,a.ue,a.u,a.uW,a.Wo]})}return o})();const je=[{module:"Loan",permissions:[{name:"View",checked:!1},{name:"Create",checked:!1},{name:"Update",checked:!1},{name:"Delete",checked:!1}],children:[]},{module:"Payment",permissions:[{name:"View",checked:!1},{name:"Create",checked:!1},{name:"Update",checked:!1},{name:"Delete",checked:!1}],children:[]},{module:"Expenses",permissions:[{name:"View",checked:!1},{name:"Create",checked:!1},{name:"Update",checked:!1},{name:"Delete",checked:!1}],children:[]},{module:"Accounts",permissions:[],children:[{module:"Users",permissions:[{name:"View",checked:!1},{name:"Create",checked:!1},{name:"Update",checked:!1},{name:"Delete",checked:!1}]},{module:"Roles",permissions:[{name:"View",checked:!1},{name:"Create",checked:!1},{name:"Update",checked:!1},{name:"Delete",checked:!1}]},{module:"Borrowers",permissions:[{name:"View",checked:!1},{name:"Create",checked:!1},{name:"Update",checked:!1},{name:"Delete",checked:!1}]}]},{module:"Maintenance",permissions:[],children:[{module:"Interests",permissions:[{name:"View",checked:!1},{name:"Create",checked:!1},{name:"Update",checked:!1},{name:"Delete",checked:!1}]},{module:"Terms",permissions:[{name:"View",checked:!1},{name:"Create",checked:!1},{name:"Update",checked:!1},{name:"Delete",checked:!1}]},{module:"Banks",permissions:[{name:"View",checked:!1},{name:"Create",checked:!1},{name:"Update",checked:!1},{name:"Delete",checked:!1}]}]},{module:"Others",permissions:[],children:[{module:"Sex",permissions:[{name:"View",checked:!1},{name:"Create",checked:!1},{name:"Update",checked:!1},{name:"Delete",checked:!1}]},{module:"Civil Status",permissions:[{name:"View",checked:!1},{name:"Create",checked:!1},{name:"Update",checked:!1},{name:"Delete",checked:!1}]}]}];var pe=c(288);function Gt(o,s){if(1&o){const t=e.KQA();e.I0R(0,"label",23),e.iHE("ngModelChange",function(n){const m=e.usT(t).$implicit;return e.kNx(m.checked,n)||(m.checked=n),e.CGJ(n)}),e.OEk(1),e.C$Y()}if(2&o){const t=s.$implicit,r=e.GaO(3);e.E7m("nzDisabled",r.data&&"Core"==r.data.type),e.OKB("ngModel",t.checked),e.yG2(),e.cNF(t.name)}}function Et(o,s){if(1&o&&(e.SAx(0),e.yuY(1,Gt,2,3,"label",22),e.k70()),2&o){const t=e.GaO().$implicit;e.yG2(),e.E7m("ngForOf",t.permissions)}}function yt(o,s){if(1&o){const t=e.KQA();e.I0R(0,"label",23),e.iHE("ngModelChange",function(n){const m=e.usT(t).$implicit;return e.kNx(m.checked,n)||(m.checked=n),e.CGJ(n)}),e.OEk(1),e.C$Y()}if(2&o){const t=s.$implicit,r=e.GaO(4);e.E7m("nzDisabled",r.data&&"Core"==r.data.type),e.OKB("ngModel",t.checked),e.yG2(),e.cNF(t.name)}}function It(o,s){if(1&o&&(e.I0R(0,"div",25)(1,"div",2)(2,"div"),e.OEk(3),e.wVc(4,"uppercase"),e.C$Y(),e.yuY(5,yt,2,3,"label",22),e.C$Y()()),2&o){const t=s.$implicit;e.yG2(3),e.cNF(e.kDX(4,2,t.module)),e.yG2(2),e.E7m("ngForOf",t.permissions)}}function bt(o,s){if(1&o&&(e.SAx(0),e.yuY(1,It,6,4,"div",24),e.k70()),2&o){const t=e.GaO().$implicit;e.yG2(),e.E7m("ngForOf",t.children)}}function kt(o,s){if(1&o&&(e.SAx(0),e.I0R(1,"div",19)(2,"nz-collapse")(3,"nz-collapse-panel",20),e.yuY(4,Et,2,1,"ng-container",21)(5,bt,2,1,"ng-container",21),e.C$Y()()(),e.k70()),2&o){const t=s.$implicit,r=e.GaO();e.yG2(3),e.E7m("nzHeader",t.module)("nzActive",r.allCollapse),e.yG2(),e.E7m("ngIf",t.permissions.length>0),e.yG2(),e.E7m("ngIf",t.children.length>0)}}function xt(o,s){if(1&o){const t=e.KQA();e.I0R(0,"div")(1,"div",1)(2,"div",10)(3,"button",26),e.qCj("click",function(){e.usT(t);const n=e.GaO();return e.CGJ(n.close())}),e.OEk(4,"CANCEL"),e.C$Y(),e.I0R(5,"button",27),e.qCj("click",function(){e.usT(t);const n=e.GaO();return e.CGJ(n.submit())}),e.OEk(6,"SUBMIT"),e.C$Y()()()()}if(2&o){const t=e.GaO();e.yG2(5),e.E7m("disabled",t.formGroup.invalid||t.data&&"Core"==t.data.type)}}function Tt(o,s){1&o&&e.wR5(0,"i",28)}function Ot(o,s){1&o&&e.wR5(0,"i",29)}let Rt=(()=>{class o{dialogRef;service;toastService;_formBuilder;access=je;constructor(t,r,n,l){this.dialogRef=t,this.service=r,this.toastService=n,this._formBuilder=l}formGroup;data;allCheck=!1;allCollapse=!0;ngOnInit(){this.formGroup=this._formBuilder.group({name:["",a.AQ.required],type:["",a.AQ.required]}),this.data=this.dialogRef.getConfig().nzData,this.data&&this.initData()}initData(){let t=this.data;this.formGroup.patchValue({name:t.name,type:t.type}),this.access=t.access,this.allCheck=!0,t.access.forEach(r=>{r.permissions.length>0?r.permissions.forEach(n=>{0==n.checked&&(this.allCheck=!1)}):r.children.length>0&&r.children.forEach(n=>{n.permissions.forEach(l=>{0==l.checked&&(this.allCheck=!1)})})})}submit(){this.formGroup.value.access=this.access,this.data?this.service.update(this.data.id,this.formGroup.value).subscribe({next:t=>{this.toastService.show("success","Roles",t.message),this.dialogRef.close({event:"close",data:!0})},error:t=>{this.toastService.show("error","Roles",t.message)}}):this.service.create(this.formGroup.value).subscribe({next:t=>{this.toastService.show("success","Roles",t.message),this.dialogRef.close({event:"close",data:!0})},error:t=>{this.toastService.show("error","Roles",t.message)}})}toggleCheckAll(){this.allCheck=!this.allCheck,this.access=this.access.map(t=>(t.permissions.length>0?t.permissions.map(r=>(r.checked=this.allCheck,r)):t.children.length>0&&t.children.map(r=>(r.permissions.map(n=>(n.checked=this.allCheck,n)),r)),t))}toggleCollapse(){this.allCollapse=!this.allCollapse}close(){this.dialogRef.close({event:"close",data:!1})}static \u0275fac=function(r){return new(r||o)(e.GI1(z.U7),e.GI1(G.q4),e.GI1(G.s9),e.GI1(a.im))};static \u0275cmp=e.In1({type:o,selectors:[["app-dialog-manage-roles"]],decls:29,vars:9,consts:[[3,"formGroup"],["nz-row",""],["nz-col","","nzSpan","24"],[3,"nzPrefix","nzStatus"],["nz-input","","type","text","nz-input","","formControlName","name",3,"disabled"],["nz-col","","nzSpan","24",1,"mt-1"],["formControlName","type",1,"w-full",3,"nzDisabled","nzStatus"],["nzValue","Core","nzLabel","Core"],["nzValue","Others","nzLabel","Others"],["nz-row","",1,"mt-5"],["nz-col","","nzSpan","24",1,"flex","justify-between"],[1,"flex","justify-end"],["nz-button","","nzType","primary","nzSize","small",1,"mr-1",3,"click"],["nz-button","","nzType","primary","nzSize","small",3,"click"],["nz-row","",1,"mt-1"],[4,"ngFor","ngForOf"],[4,"nzModalFooter"],["prefixTemplateCheck",""],["prefixTemplateError",""],["nz-col","","nzSpan","8"],[3,"nzHeader","nzActive"],[4,"ngIf"],["nz-checkbox","",3,"nzDisabled","ngModel","ngModelChange",4,"ngFor","ngForOf"],["nz-checkbox","",3,"nzDisabled","ngModel","ngModelChange"],["nz-row","","class","mb-1",4,"ngFor","ngForOf"],["nz-row","",1,"mb-1"],["nz-button","",1,"bg-grey-light","rounded-xl","text-white",3,"click"],["nz-button","",1,"bg-primary","rounded-xl","text-white","disabled:bg-grey",3,"disabled","click"],["nz-icon","","nzType","check-circle","nzTheme","outline",1,"text-green-600"],["nz-icon","","nzType","exclamation-circle","nzTheme","outline","nzTooltipTitle","Invalid Input!","nzTooltipPlacement","bottom","nz-tooltip","",1,"text-red-600"]],template:function(r,n){if(1&r&&(e.I0R(0,"form",0)(1,"div",1)(2,"div",2)(3,"h5"),e.OEk(4,"Name"),e.C$Y(),e.I0R(5,"nz-input-group",3),e.wR5(6,"input",4),e.C$Y()(),e.I0R(7,"div",5)(8,"h5"),e.OEk(9,"Type"),e.C$Y(),e.I0R(10,"nz-select",6),e.wR5(11,"nz-option",7)(12,"nz-option",8),e.C$Y()()()(),e.I0R(13,"div",9)(14,"div",10)(15,"h5"),e.OEk(16,"Permissions"),e.C$Y(),e.I0R(17,"div",11)(18,"button",12),e.qCj("click",function(){return n.toggleCollapse()}),e.OEk(19),e.C$Y(),e.I0R(20,"button",13),e.qCj("click",function(){return n.toggleCheckAll()}),e.OEk(21),e.C$Y()()()(),e.I0R(22,"div",14),e.yuY(23,kt,6,4,"ng-container",15),e.C$Y(),e.yuY(24,xt,7,1,"div",16)(25,Tt,1,0,"ng-template",null,17,e.gJz)(27,Ot,1,0,"ng-template",null,18,e.gJz)),2&r){const l=e.Gew(26),m=e.Gew(28);let p,h,v;e.E7m("formGroup",n.formGroup),e.yG2(5),e.E7m("nzPrefix",null!=(p=n.formGroup.get("name"))&&p.hasError("required")?m:l)("nzStatus",null!=(h=n.formGroup.get("name"))&&h.hasError("required")?"error":""),e.yG2(),e.E7m("disabled",n.data&&"Core"==n.data.type),e.yG2(4),e.E7m("nzDisabled",n.data&&"Core"==n.data.type)("nzStatus",null!=(v=n.formGroup.get("type"))&&v.hasError("required")?"error":""),e.yG2(9),e.cNF(n.allCollapse?"Collapse All":"Expand All"),e.yG2(2),e.cNF(n.allCheck?"Uncheck All":"Check All"),e.yG2(2),e.E7m("ngForOf",n.access)}},dependencies:[b.ay,b.u_,i.Ez,I.k,x.o9,R.If,g.QD,g.ox,ae.Ep,_.cv,_.qG,_.sj,C.eE,C.Mh,pe.MB,pe.kd,O.qG,z.SW,a.sz,a.ot,a.ue,a.u,a.uW,a.Wo,a._G,b.yG]})}return o})();var St=c(9720);function Mt(o,s){if(1&o){const t=e.KQA();e.I0R(0,"div")(1,"div",1)(2,"div",9)(3,"button",10),e.qCj("click",function(){e.usT(t);const n=e.GaO();return e.CGJ(n.close())}),e.OEk(4,"CANCEL"),e.C$Y(),e.I0R(5,"button",11),e.qCj("click",function(){e.usT(t);const n=e.GaO();return e.CGJ(n.submit())}),e.OEk(6,"SUBMIT"),e.C$Y()()()()}if(2&o){const t=e.GaO();e.yG2(5),e.E7m("disabled",t.formGroup.invalid)}}function wt(o,s){1&o&&e.wR5(0,"i",12)}function Nt(o,s){1&o&&e.wR5(0,"i",13)}let Dt=(()=>{class o{dialogRef;service;toastService;_formBuilder;constructor(t,r,n,l){this.dialogRef=t,this.service=r,this.toastService=n,this._formBuilder=l}formGroup;data;ngOnInit(){this.formGroup=this._formBuilder.group({code:["",a.AQ.required],name:["",a.AQ.required]}),this.data=this.dialogRef.getConfig().nzData,this.data&&this.initData()}initData(){let t=this.data;this.formGroup.patchValue({code:t.name,name:t.value})}submit(){this.data?this.service.update(this.data.id,this.formGroup.value).subscribe({next:t=>{this.toastService.show("success","Sex",t.message),this.dialogRef.close({event:"close",data:!0})},error:t=>{this.toastService.show("error","Sex",t.message)}}):this.service.create(this.formGroup.value).subscribe({next:t=>{this.toastService.show("success","Sex",t.message),this.dialogRef.close({event:"close",data:!0})},error:t=>{this.toastService.show("error","Sex",t.message)}})}close(){this.dialogRef.close({event:"close",data:!1})}static \u0275fac=function(r){return new(r||o)(e.GI1(z.U7),e.GI1(St.C),e.GI1(G.s9),e.GI1(a.im))};static \u0275cmp=e.In1({type:o,selectors:[["app-dialog-manage-sex"]],decls:18,vars:5,consts:[[3,"formGroup"],["nz-row",""],["nz-col","","nzSpan","12"],[3,"nzPrefix","nzStatus"],["nz-input","","type","text","nz-input","","formControlName","code"],["nz-input","","type","text","nz-input","","formControlName","name"],[4,"nzModalFooter"],["prefixTemplateCheck",""],["prefixTemplateError",""],["nz-col","","nzSpan","24",1,"flex","justify-between"],["nz-button","",1,"bg-grey-light","rounded-xl","text-white",3,"click"],["nz-button","",1,"bg-primary","rounded-xl","text-white","disabled:bg-grey",3,"disabled","click"],["nz-icon","","nzType","check-circle","nzTheme","outline",1,"text-green-600"],["nz-icon","","nzType","exclamation-circle","nzTheme","outline","nzTooltipTitle","Invalid Input!","nzTooltipPlacement","bottom","nz-tooltip","",1,"text-red-600"]],template:function(r,n){if(1&r&&(e.I0R(0,"form",0)(1,"div",1)(2,"div",2)(3,"h5"),e.OEk(4,"Code"),e.C$Y(),e.I0R(5,"nz-input-group",3),e.wR5(6,"input",4),e.C$Y()()(),e.I0R(7,"div",1)(8,"div",2)(9,"h5"),e.OEk(10,"Name"),e.C$Y(),e.I0R(11,"nz-input-group",3),e.wR5(12,"input",5),e.C$Y()()()(),e.yuY(13,Mt,7,1,"div",6)(14,wt,1,0,"ng-template",null,7,e.gJz)(16,Nt,1,0,"ng-template",null,8,e.gJz)),2&r){const l=e.Gew(15),m=e.Gew(17);let p,h,v,E;e.E7m("formGroup",n.formGroup),e.yG2(5),e.E7m("nzPrefix",null!=(p=n.formGroup.get("code"))&&p.hasError("required")?m:l)("nzStatus",null!=(h=n.formGroup.get("code"))&&h.hasError("required")?"error":""),e.yG2(6),e.E7m("nzPrefix",null!=(v=n.formGroup.get("name"))&&v.hasError("required")?m:l)("nzStatus",null!=(E=n.formGroup.get("name"))&&E.hasError("required")?"error":"")}},dependencies:[i.Ez,I.k,x.o9,R.If,g.QD,g.ox,_.cv,_.qG,_.sj,O.qG,z.SW,a.sz,a.ot,a.ue,a.u,a.uW,a.Wo]})}return o})();function Yt(o,s){if(1&o){const t=e.KQA();e.I0R(0,"div")(1,"div",1)(2,"div",12)(3,"button",13),e.qCj("click",function(){e.usT(t);const n=e.GaO();return e.CGJ(n.close())}),e.OEk(4,"CANCEL"),e.C$Y(),e.I0R(5,"button",14),e.qCj("click",function(){e.usT(t);const n=e.GaO();return e.CGJ(n.submit())}),e.OEk(6,"SUBMIT"),e.C$Y()()()()}if(2&o){const t=e.GaO();e.yG2(5),e.E7m("disabled",t.formGroup.invalid)}}function $t(o,s){1&o&&e.wR5(0,"i",15)}function At(o,s){1&o&&e.wR5(0,"i",16)}const Pt=()=>({standalone:!0});let qt=(()=>{class o{dialogRef;service;toastService;_formBuilder;constructor(t,r,n,l){this.dialogRef=t,this.service=r,this.toastService=n,this._formBuilder=l}formGroup;data;ngOnInit(){this.formGroup=this._formBuilder.group({name:["",a.AQ.required],value:[0,a.AQ.required]}),this.data=this.dialogRef.getConfig().nzData,this.data&&this.initData()}initData(){let t=this.data;this.formGroup.patchValue({name:t.name,value:t.value})}submit(){this.data?this.service.update(this.data.id,this.formGroup.value).subscribe({next:t=>{this.toastService.show("success","Terms",t.message),this.dialogRef.close({event:"close",data:!0})},error:t=>{this.toastService.show("error","Terms",t.message)}}):this.service.create(this.formGroup.value).subscribe({next:t=>{this.toastService.show("success","Terms",t.message),this.dialogRef.close({event:"close",data:!0})},error:t=>{this.toastService.show("error","Terms",t.message)}})}close(){this.dialogRef.close({event:"close",data:!1})}static \u0275fac=function(r){return new(r||o)(e.GI1(z.U7),e.GI1(G.eQ),e.GI1(G.s9),e.GI1(a.im))};static \u0275cmp=e.In1({type:o,selectors:[["app-dialog-manage-terms"]],decls:23,vars:9,consts:[[3,"formGroup"],["nz-row",""],["nz-col","","nzSpan","24"],[3,"nzPrefix","nzStatus"],["nz-input","","type","text","nz-input","","formControlName","name"],["nz-col","","nzSpan","12",1,"pr-1"],["nz-input","","type","number","nz-input","","formControlName","value"],["nz-col","","nzSpan","12"],["nz-input","","type","number","nz-input","",3,"disabled","ngModel","ngModelOptions"],[4,"nzModalFooter"],["prefixTemplateCheck",""],["prefixTemplateError",""],["nz-col","","nzSpan","24",1,"flex","justify-between"],["nz-button","",1,"bg-grey-light","rounded-xl","text-white",3,"click"],["nz-button","",1,"bg-primary","rounded-xl","text-white","disabled:bg-grey",3,"disabled","click"],["nz-icon","","nzType","check-circle","nzTheme","outline",1,"text-green-600"],["nz-icon","","nzType","exclamation-circle","nzTheme","outline","nzTooltipTitle","Invalid Input!","nzTooltipPlacement","bottom","nz-tooltip","",1,"text-red-600"]],template:function(r,n){if(1&r&&(e.I0R(0,"form",0)(1,"div",1)(2,"div",2)(3,"h5"),e.OEk(4,"Name"),e.C$Y(),e.I0R(5,"nz-input-group",3),e.wR5(6,"input",4),e.C$Y()()(),e.I0R(7,"div",1)(8,"div",5)(9,"h5"),e.OEk(10,"Value in Days"),e.C$Y(),e.I0R(11,"nz-input-group",3),e.wR5(12,"input",6),e.C$Y()(),e.I0R(13,"div",7)(14,"h5"),e.OEk(15,"Value in Months"),e.C$Y(),e.I0R(16,"nz-input-group"),e.wR5(17,"input",8),e.C$Y()()()(),e.yuY(18,Yt,7,1,"div",9)(19,$t,1,0,"ng-template",null,10,e.gJz)(21,At,1,0,"ng-template",null,11,e.gJz)),2&r){const l=e.Gew(20),m=e.Gew(22);let p,h,v,E,T;e.E7m("formGroup",n.formGroup),e.yG2(5),e.E7m("nzPrefix",null!=(p=n.formGroup.get("name"))&&p.hasError("required")?m:l)("nzStatus",null!=(h=n.formGroup.get("name"))&&h.hasError("required")?"error":""),e.yG2(6),e.E7m("nzPrefix",null!=(v=n.formGroup.get("value"))&&v.hasError("required")?m:l)("nzStatus",null!=(E=n.formGroup.get("value"))&&E.hasError("required")?"error":""),e.yG2(6),e.E7m("disabled",!0)("ngModel",(null==(T=n.formGroup.get("value"))?null:T.value)/30)("ngModelOptions",e.q4q(8,Pt))}},dependencies:[i.Ez,I.k,x.o9,R.If,g.QD,g.ox,_.cv,_.qG,_.sj,O.qG,z.SW,a.sz,a.ot,a.O4,a.ue,a.u,a.uW,a.Wo,a._G]})}return o})();function Lt(o,s){if(1&o&&(e.I0R(0,"div")(1,"form",9)(2,"div",10)(3,"div",11)(4,"h5"),e.OEk(5,"Full Name"),e.C$Y(),e.I0R(6,"nz-input-group",12),e.wR5(7,"input",13),e.C$Y()()(),e.I0R(8,"div",14)(9,"div",15)(10,"h5"),e.OEk(11,"Email Address"),e.C$Y(),e.I0R(12,"nz-input-group",12),e.wR5(13,"input",16),e.C$Y()(),e.I0R(14,"div",17)(15,"h5"),e.OEk(16,"Username"),e.C$Y(),e.I0R(17,"nz-input-group",12),e.wR5(18,"input",18),e.C$Y()()()()()),2&o){const t=e.GaO(),r=e.Gew(12),n=e.Gew(10);let l,m,p,h,v,E;e.yG2(),e.E7m("formGroup",t.formGroup),e.yG2(5),e.E7m("nzPrefix",null!=(l=t.formGroup.get("name"))&&l.hasError("required")?r:n)("nzStatus",null!=(m=t.formGroup.get("name"))&&m.hasError("required")?"error":""),e.yG2(6),e.E7m("nzPrefix",null!=(p=t.formGroup.get("emailAddress"))&&p.hasError("required")?r:n)("nzStatus",null!=(h=t.formGroup.get("emailAddress"))&&h.hasError("required")?"error":""),e.yG2(5),e.E7m("nzPrefix",null!=(v=t.formGroup.get("username"))&&v.hasError("required")?r:n)("nzStatus",null!=(E=t.formGroup.get("username"))&&E.hasError("required")?"error":"")}}function Bt(o,s){if(1&o&&e.wR5(0,"nz-option",28),2&o){const t=s.$implicit;e.E7m("nzValue",t.id)("nzLabel",t.name)}}function Ft(o,s){if(1&o){const t=e.KQA();e.I0R(0,"button",29),e.qCj("click",function(){e.usT(t);const n=e.GaO(2);return e.CGJ(n.toggleCheckAll())}),e.OEk(1),e.C$Y()}if(2&o){const t=e.GaO(2);e.yG2(),e.cNF(t.allCheck?"Uncheck All":"Check All")}}function Qt(o,s){if(1&o){const t=e.KQA();e.I0R(0,"label",33),e.iHE("ngModelChange",function(n){const m=e.usT(t).$implicit;return e.kNx(m.checked,n)||(m.checked=n),e.CGJ(n)}),e.OEk(1),e.C$Y()}if(2&o){const t=s.$implicit,r=e.GaO(4);e.E7m("nzDisabled",r.roleId>0),e.OKB("ngModel",t.checked),e.yG2(),e.cNF(t.name)}}function Ut(o,s){if(1&o&&(e.SAx(0),e.yuY(1,Qt,2,3,"label",32),e.k70()),2&o){const t=e.GaO().$implicit;e.yG2(),e.E7m("ngForOf",t.permissions)}}function Vt(o,s){if(1&o){const t=e.KQA();e.I0R(0,"label",33),e.iHE("ngModelChange",function(n){const m=e.usT(t).$implicit;return e.kNx(m.checked,n)||(m.checked=n),e.CGJ(n)}),e.OEk(1),e.C$Y()}if(2&o){const t=s.$implicit,r=e.GaO(5);e.E7m("nzDisabled",r.roleId>0),e.OKB("ngModel",t.checked),e.yG2(),e.cNF(t.name)}}function jt(o,s){if(1&o&&(e.I0R(0,"div",35)(1,"div",11)(2,"div"),e.OEk(3),e.wVc(4,"uppercase"),e.C$Y(),e.yuY(5,Vt,2,3,"label",32),e.C$Y()()),2&o){const t=s.$implicit;e.yG2(3),e.cNF(e.kDX(4,2,t.module)),e.yG2(2),e.E7m("ngForOf",t.permissions)}}function Kt(o,s){if(1&o&&(e.SAx(0),e.yuY(1,jt,6,4,"div",34),e.k70()),2&o){const t=e.GaO().$implicit;e.yG2(),e.E7m("ngForOf",t.children)}}function Jt(o,s){if(1&o&&(e.SAx(0),e.I0R(1,"div",30)(2,"nz-collapse")(3,"nz-collapse-panel",31),e.yuY(4,Ut,2,1,"ng-container",5)(5,Kt,2,1,"ng-container",5),e.C$Y()()(),e.k70()),2&o){const t=s.$implicit,r=e.GaO(2);e.yG2(3),e.E7m("nzHeader",t.module)("nzActive",r.allCollapse),e.yG2(),e.E7m("ngIf",t.permissions.length>0),e.yG2(),e.E7m("ngIf",t.children.length>0)}}const Ht=()=>({standalone:!0});function Wt(o,s){if(1&o){const t=e.KQA();e.I0R(0,"div")(1,"div",10)(2,"div",11)(3,"h5"),e.OEk(4,"Role"),e.C$Y(),e.I0R(5,"nz-select",19),e.iHE("ngModelChange",function(n){e.usT(t);const l=e.GaO();return e.kNx(l.roleId,n)||(l.roleId=n),e.CGJ(n)}),e.qCj("ngModelChange",function(){e.usT(t);const n=e.GaO();return e.CGJ(n.getRolePermissions())}),e.wR5(6,"nz-option",20),e.yuY(7,Bt,1,2,"nz-option",21),e.C$Y()()(),e.I0R(8,"div",22)(9,"div",23)(10,"h5"),e.OEk(11,"Permissions"),e.C$Y(),e.I0R(12,"div",24)(13,"button",25),e.qCj("click",function(){e.usT(t);const n=e.GaO();return e.CGJ(n.toggleCollapse())}),e.OEk(14),e.C$Y(),e.yuY(15,Ft,2,1,"button",26),e.C$Y()()(),e.I0R(16,"div",14),e.yuY(17,Jt,6,4,"ng-container",27),e.C$Y()()}if(2&o){const t=e.GaO();e.yG2(5),e.OKB("ngModel",t.roleId),e.E7m("ngModelOptions",e.q4q(6,Ht)),e.yG2(2),e.E7m("ngForOf",t.roles),e.yG2(7),e.cNF(t.allCollapse?"Collapse All":"Expand All"),e.yG2(),e.E7m("ngIf",0==t.roleId),e.yG2(2),e.E7m("ngForOf",t.access)}}function Xt(o,s){if(1&o){const t=e.KQA();e.I0R(0,"label",45),e.iHE("ngModelChange",function(n){const m=e.usT(t).$implicit;return e.kNx(m.checked,n)||(m.checked=n),e.CGJ(n)}),e.OEk(1),e.C$Y()}if(2&o){const t=s.$implicit;e.OKB("ngModel",t.checked),e.yG2(),e.cNF(t.name)}}function Zt(o,s){if(1&o&&(e.SAx(0),e.yuY(1,Xt,2,2,"label",44),e.k70()),2&o){const t=e.GaO().$implicit;e.yG2(),e.E7m("ngForOf",t.permissions)}}function en(o,s){if(1&o){const t=e.KQA();e.I0R(0,"label",45),e.iHE("ngModelChange",function(n){const m=e.usT(t).$implicit;return e.kNx(m.checked,n)||(m.checked=n),e.CGJ(n)}),e.OEk(1),e.C$Y()}if(2&o){const t=s.$implicit;e.OKB("ngModel",t.checked),e.yG2(),e.cNF(t.name)}}function tn(o,s){if(1&o&&(e.I0R(0,"div",35)(1,"div",11)(2,"div"),e.OEk(3),e.wVc(4,"uppercase"),e.C$Y(),e.yuY(5,en,2,2,"label",44),e.C$Y()()),2&o){const t=s.$implicit;e.yG2(3),e.cNF(e.kDX(4,2,t.module)),e.yG2(2),e.E7m("ngForOf",t.permissions)}}function nn(o,s){if(1&o&&(e.SAx(0),e.yuY(1,tn,6,4,"div",34),e.k70()),2&o){const t=e.GaO().$implicit;e.yG2(),e.E7m("ngForOf",t.children)}}function on(o,s){if(1&o&&(e.SAx(0),e.I0R(1,"div",42)(2,"div",43),e.OEk(3),e.wVc(4,"uppercase"),e.C$Y(),e.yuY(5,Zt,2,1,"ng-container",5)(6,nn,2,1,"ng-container",5),e.C$Y(),e.k70()),2&o){const t=s.$implicit;e.yG2(3),e.cNF(e.kDX(4,3,t.module)),e.yG2(2),e.E7m("ngIf",t.permissions.length>0),e.yG2(),e.E7m("ngIf",t.children.length>0)}}function rn(o,s){if(1&o&&(e.I0R(0,"div")(1,"nz-descriptions",36)(2,"nz-descriptions-item",37),e.OEk(3),e.C$Y(),e.I0R(4,"nz-descriptions-item",38),e.OEk(5),e.C$Y(),e.I0R(6,"nz-descriptions-item",39),e.OEk(7),e.C$Y()(),e.I0R(8,"nz-descriptions",40)(9,"nz-descriptions-item",41),e.OEk(10),e.C$Y(),e.I0R(11,"nz-descriptions-item",2)(12,"div",10),e.yuY(13,on,7,5,"ng-container",27),e.C$Y()()()()),2&o){const t=e.GaO();let r,n,l;e.yG2(3),e.cNF(null==(r=t.formGroup.get("name"))?null:r.value),e.yG2(2),e.cNF(null==(n=t.formGroup.get("emailAddress"))?null:n.value),e.yG2(2),e.cNF(null==(l=t.formGroup.get("username"))?null:l.value),e.yG2(3),e.cNF(null==t.role?null:t.role.name),e.yG2(3),e.E7m("ngForOf",t.access)}}function an(o,s){if(1&o){const t=e.KQA();e.I0R(0,"button",51),e.qCj("click",function(){e.usT(t);const n=e.GaO(2);return e.CGJ(n.previousStep())}),e.OEk(1,"BACK"),e.C$Y()}}function ln(o,s){if(1&o){const t=e.KQA();e.I0R(0,"button",52),e.qCj("click",function(){e.usT(t);const n=e.GaO(2);return e.CGJ(n.nextStep())}),e.OEk(1,"NEXT"),e.C$Y()}if(2&o){const t=e.GaO(2);e.E7m("disabled",t.disableNext(t.currentIndex))}}function sn(o,s){if(1&o){const t=e.KQA();e.I0R(0,"button",53),e.qCj("click",function(){e.usT(t);const n=e.GaO(2);return e.CGJ(n.submit())}),e.OEk(1,"SUBMIT"),e.C$Y()}if(2&o){const t=e.GaO(2);e.E7m("disabled",t.formGroup.invalid)}}function un(o,s){if(1&o){const t=e.KQA();e.I0R(0,"div")(1,"div",46)(2,"div",23)(3,"div")(4,"button",47),e.qCj("click",function(){e.usT(t);const n=e.GaO();return e.CGJ(n.close())}),e.OEk(5,"CANCEL"),e.C$Y()(),e.I0R(6,"div"),e.yuY(7,an,2,0,"button",48)(8,ln,2,1,"button",49)(9,sn,2,1,"button",50),e.C$Y()()()()}if(2&o){const t=e.GaO();e.yG2(7),e.E7m("ngIf",t.currentIndex>0),e.yG2(),e.E7m("ngIf",t.currentIndex<2),e.yG2(),e.E7m("ngIf",2==t.currentIndex)}}function cn(o,s){1&o&&e.wR5(0,"i",54)}function mn(o,s){1&o&&e.wR5(0,"i",55)}let dn=(()=>{class o{dialogRef;service;rolesService;toastService;_formBuilder;access=je;constructor(t,r,n,l,m){this.dialogRef=t,this.service=r,this.rolesService=n,this.toastService=l,this._formBuilder=m}formGroup;currentIndex=0;roles;role;roleId=-1;data;allCheck=!1;allCollapse=!0;ngOnInit(){this.getRoles(),this.formGroup=this._formBuilder.group({name:["",a.AQ.required],emailAddress:["",a.AQ.required],username:["",a.AQ.required]}),this.data=this.dialogRef.getConfig().nzData,this.data&&this.initData()}initData(){let t=this.data;this.formGroup.patchValue({name:t.name,emailAddress:t.emailAddress,username:t.username}),this.roleId=t.roleId,this.getRolePermissions()}submit(){this.formGroup.value.roleId=this.roleId,this.formGroup.value.access=this.access,this.data?this.service.update(this.data.id,this.formGroup.value).subscribe({next:t=>{this.toastService.show("success","Users",t.message),this.dialogRef.close({event:"close",data:!0})},error:t=>{this.toastService.show("error","Users",t.message)}}):this.service.create(this.formGroup.value).subscribe({next:t=>{this.toastService.show("success","Users",t.message),this.dialogRef.close({event:"close",data:!0})},error:t=>{this.toastService.show("error","Users",t.message)}})}close(){this.dialogRef.close({event:"close",data:!1})}nextStep(){this.currentIndex+=1}disableNext(t){let r=!1;return r=0==t?!(0!=t||!this.formGroup.invalid):1==t&&this.roleId<0,r}previousStep(){this.currentIndex-=1}toggleCheckAll(){this.allCheck=!this.allCheck,this.access=this.access.map(t=>(t.permissions.length>0?t.permissions.map(r=>(r.checked=this.allCheck,r)):t.children.length>0&&t.children.map(r=>(r.permissions.map(n=>(n.checked=this.allCheck,n)),r)),t))}toggleCollapse(){this.allCollapse=!this.allCollapse}getRoles(){this.rolesService.getList(null,null,!0).subscribe({next:t=>{this.roles=t.data}})}getRolePermissions(){if(this.roleId>0)this.rolesService.getDetails(this.roleId).subscribe({next:t=>{const r=t.data;this.role=r,this.access=r.access,r.access.forEach(n=>{n.permissions.length>0?n.permissions.forEach(l=>{0==l.checked&&(this.allCheck=!1)}):n.children.length>0&&n.children.forEach(l=>{l.permissions.forEach(m=>{0==m.checked&&(this.allCheck=!1)})})})}});else{const t=this.data;this.access=JSON.parse(t.access),t.access.forEach(r=>{r.permissions.length>0?r.permissions.forEach(n=>{0==n.checked&&(this.allCheck=!1)}):r.children.length>0&&r.children.forEach(n=>{n.permissions.forEach(l=>{0==l.checked&&(this.allCheck=!1)})})})}}static \u0275fac=function(r){return new(r||o)(e.GI1(z.U7),e.GI1(G.oz),e.GI1(G.q4),e.GI1(G.s9),e.GI1(a.im))};static \u0275cmp=e.In1({type:o,selectors:[["app-dialog-manage-users"]],decls:13,vars:4,consts:[["nzProgressDot","",3,"nzCurrent"],["nzTitle","Personal Data"],["nzTitle","Permissions"],["nzTitle","Review"],[1,"steps-content","w-full"],[4,"ngIf"],[4,"nzModalFooter"],["prefixTemplateCheck",""],["prefixTemplateError",""],[3,"formGroup"],["nz-row",""],["nz-col","","nzSpan","24"],[3,"nzPrefix","nzStatus"],["nz-input","","type","text","nz-input","","formControlName","name","minlength","2","maxlength","255"],["nz-row","",1,"mt-1"],["nz-col","","nzSpan","12",1,"pr-1"],["nz-input","","type","text","nz-input","","formControlName","emailAddress","minlength","2","maxlength","255"],["nz-col","","nzSpan","12"],["nz-input","","type","text","nz-input","","formControlName","username","minlength","2","maxlength","255"],["nzShowSearch","","nzAllowClear","",1,"w-full",3,"ngModel","ngModelOptions","ngModelChange"],["nzValue","0","nzLabel","Custom Permissions"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["nz-row","",1,"mt-5"],["nz-col","","nzSpan","24",1,"flex","justify-between"],[1,"flex","justify-end"],["nz-button","","nzType","primary","nzSize","small",1,"mr-1",3,"click"],["nz-button","","nzType","primary","nzSize","small",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"nzValue","nzLabel"],["nz-button","","nzType","primary","nzSize","small",3,"click"],["nz-col","","nzSpan","8"],[3,"nzHeader","nzActive"],["nz-checkbox","",3,"nzDisabled","ngModel","ngModelChange",4,"ngFor","ngForOf"],["nz-checkbox","",3,"nzDisabled","ngModel","ngModelChange"],["nz-row","","class","mb-1",4,"ngFor","ngForOf"],["nz-row","",1,"mb-1"],["nzTitle","Personal Data","nzBordered","","nzSize","small"],["nzTitle","Name","nzSpan","3"],["nzTitle","Email Address"],["nzTitle","Username"],["nzTitle","Permissions","nzBordered","","nzSize","small"],["nzTitle","Role","nzSpan","3"],["nz-col","","nzSpan","6",1,"border","border-black","m-1","p-3"],[1,"bg-black","text-white","text-center","mb-1"],["nzDisabled","","nz-checkbox","",3,"ngModel","ngModelChange",4,"ngFor","ngForOf"],["nzDisabled","","nz-checkbox","",3,"ngModel","ngModelChange"],["mz-row",""],["nz-button","",1,"bg-grey-light","rounded-xl","text-white",3,"click"],["nz-button","","class","bg-secondary rounded-xl text-white",3,"click",4,"ngIf"],["nz-button","","class","bg-primary rounded-xl mx-1 text-white disabled:bg-grey",3,"disabled","click",4,"ngIf"],["nz-button","","class","bg-primary rounded-xl mx-1 text-white",3,"disabled","click",4,"ngIf"],["nz-button","",1,"bg-secondary","rounded-xl","text-white",3,"click"],["nz-button","",1,"bg-primary","rounded-xl","mx-1","text-white","disabled:bg-grey",3,"disabled","click"],["nz-button","",1,"bg-primary","rounded-xl","mx-1","text-white",3,"disabled","click"],["nz-icon","","nzType","check-circle","nzTheme","outline",1,"text-green-600"],["nz-icon","","nzType","exclamation-circle","nzTheme","outline","nzTooltipTitle","Invalid Input!","nzTooltipPlacement","bottom","nz-tooltip","",1,"text-red-600"]],template:function(r,n){1&r&&(e.I0R(0,"nz-steps",0),e.wR5(1,"nz-step",1)(2,"nz-step",2)(3,"nz-step",3),e.C$Y(),e.I0R(4,"div",4),e.yuY(5,Lt,19,7,"div",5)(6,Wt,18,7,"div",5)(7,rn,14,5,"div",5),e.C$Y(),e.yuY(8,un,10,3,"div",6)(9,cn,1,0,"ng-template",null,7,e.gJz)(11,mn,1,0,"ng-template",null,8,e.gJz)),2&r&&(e.E7m("nzCurrent",n.currentIndex),e.yG2(5),e.E7m("ngIf",0==n.currentIndex),e.yG2(),e.E7m("ngIf",1==n.currentIndex),e.yG2(),e.E7m("ngIf",2==n.currentIndex))},dependencies:[b.ay,b.u_,i.Ez,I.k,x.o9,R.If,g.QD,g.ox,ie.Cs,ie.CM,ae.Ep,_.cv,_.qG,_.sj,C.eE,C.Mh,pe.MB,pe.kd,re.Qx,re.oF,O.qG,z.SW,a.sz,a.ot,a.ue,a.u,a.El,a.Mj,a.uW,a.Wo,a._G,b.yG]})}return o})(),Ke=(()=>{class o{nzDialog;constructor(t){this.nzDialog=t}confirm(t,r){return this.nzDialog.create({nzContent:oe,nzData:r,nzTitle:t,nzClassName:"w-96"})}changeStatus(t,r){return this.nzDialog.create({nzContent:he,nzData:r,nzTitle:t,nzClassName:"w-96"})}manageOrders(t){return this.nzDialog.create({nzContent:dt,nzData:t,nzTitle:t?"Edit Loan":"Create New Loan",nzClassName:"w-4/5",nzMaskClosable:!1})}managePayments(t){return this.nzDialog.create({nzContent:vt,nzData:t,nzTitle:"Pay Loan",nzClassName:"w-3/5",nzMaskClosable:!1})}manageInterests(t){return this.nzDialog.create({nzContent:Ve,nzData:t,nzTitle:t?"Edit Interest":"Create New Interest",nzClassName:"w-1/5",nzMaskClosable:!1})}manageTerms(t){return this.nzDialog.create({nzContent:qt,nzData:t,nzTitle:t?"Edit Term":"Create New Term",nzClassName:"w-2/5",nzMaskClosable:!1})}manageCollaterals(t){return this.nzDialog.create({nzContent:De,nzData:t,nzTitle:t?"Edit Collateral":"Create New Collateral",nzClassName:"w-2/5",nzMaskClosable:!1})}manageBanks(t){return this.nzDialog.create({nzContent:ve,nzData:t,nzTitle:t?"Edit Bank":"Create New Bank",nzClassName:"w-3/5",nzMaskClosable:!1})}manageSex(t){return this.nzDialog.create({nzContent:Dt,nzData:t,nzTitle:t?"Edit Sex":"Create New Sex",nzClassName:"w-2/5",nzMaskClosable:!1})}manageCivilStatus(t){return this.nzDialog.create({nzContent:Se,nzData:t,nzTitle:t?"Edit Civil Status":"Create New Civil Status",nzClassName:"w-2/5",nzMaskClosable:!1})}manageExpenses(t){return this.nzDialog.create({nzContent:Pe,nzData:t,nzTitle:t?"Edit Expenses":"Create New Expenses",nzClassName:"w-2/5",nzMaskClosable:!1})}manageUsers(t){return this.nzDialog.create({nzContent:dn,nzData:t,nzTitle:t?"Edit User":"Create New User",nzClassName:"w-4/5",nzMaskClosable:!1})}manageRoles(t){return this.nzDialog.create({nzContent:Rt,nzData:t,nzTitle:t?"Edit Roles":"Create New Roles",nzClassName:"w-4/5",nzMaskClosable:!1})}manageBorrowers(t){return this.nzDialog.create({nzContent:ke,nzData:t,nzTitle:t?"Edit Borrower":"Create New Borrower",nzClassName:"w-4/5",nzMaskClosable:!1})}static \u0275fac=function(r){return new(r||o)(e.CoB(z.mU))};static \u0275prov=e.wxM({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})()}}]);