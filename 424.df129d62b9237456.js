"use strict";(self.webpackChunkprenzavier01_github_io=self.webpackChunkprenzavier01_github_io||[]).push([[424],{7424:(F,c,n)=>{n.r(c),n.d(c,{Module:()=>q});var I=n(1368),S=n(3660),l=n(940),N=n(1780),t=n(4496),T=n(1296);let w=(()=>{class e{constructor(){}ngOnInit(){}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=t.In1({type:e,selectors:[["app-layout"]],decls:3,vars:0,consts:[[1,"content"]],template:function(o,r){1&o&&(t.wR5(0,"app-breadcrumb"),t.I0R(1,"section",0),t.wR5(2,"router-outlet"),t.C$Y())},dependencies:[l.cP,T.a]})}return e})();var s=n(4716),m=n(2328),Y=n(460),P=n(3064),$=n(5584),x=n(6088),d=n(2532),p=n(2605),O=n(5128),Q=n(8472),D=n(5376),M=n(6228);function U(e,B){1&e&&t.wR5(0,"i",26)}function j(e,B){1&e&&t.wR5(0,"i",27)}const k=[{path:"",component:w,children:[{path:"",pathMatch:"full",component:(()=>{class e{service;appService;toastService;_formBuilder;constructor(u,o,r,i){this.service=u,this.appService=o,this.toastService=r,this._formBuilder=i}currentUser;formGroup;logs;tableConfig={singleActions:[],bulkActions:[],columnCSV:[]};ngOnInit(){this.currentUser=this.appService.getAccount(),this.formGroup=this._formBuilder.group({address:["",s.AQ.required],phoneNumber:["",s.AQ.required],mobileNumber:["",s.AQ.required],emailAddress:["",s.AQ.required],userName:["",s.AQ.required],password:[],confirmPassword:[]}),this.getAccountDetails(),this.getLogs()}getAccountDetails(){this.service.getDetails(this.currentUser.userId).subscribe({next:u=>{const o=u.data;this.formGroup.patchValue({address:o.address,phoneNumber:o.phoneNumber,mobileNumber:o.mobileNumber,emailAddress:o.emailAddress,userName:o.userName})}})}getLogs(){this.appService.getLogs().subscribe({next:u=>{this.logs=u.data}})}reset(){this.getAccountDetails()}submit(){this.service.update(this.currentUser.userId,this.formGroup.value).subscribe({next:u=>{this.toastService.show("success","Account Settings",u.message)},error:u=>{this.toastService.show("error","Account Settings",u.message)}})}static \u0275fac=function(o){return new(o||e)(t.GI1(m.oz),t.GI1(m.ye),t.GI1(m.s9),t.GI1(s.im))};static \u0275cmp=t.In1({type:e,selectors:[["app-account"]],decls:55,vars:16,consts:[[1,"p-2.5"],["nz-row",""],["nz-col","","nzSpan","12",1,"pr-1"],["nzTitle","Account Details"],[3,"formGroup"],["nz-col","","nzSpan","24"],[3,"nzPrefix","nzStatus"],["nz-input","","rows","2","type","text","nz-input","","formControlName","address"],["nz-input","","type","text","nz-input","","formControlName","phoneNumber"],["nz-col","","nzSpan","12"],["nz-input","","type","text","nz-input","","formControlName","mobileNumber"],["nz-col","","nzSpan","8",1,"pr-1"],["nz-input","","type","text","nz-input","","formControlName","userName"],["nz-input","","type","text","nz-input","","formControlName","password"],["nz-col","","nzSpan","8"],["nz-input","","type","text","nz-input","","formControlName","confirmPassword"],["nz-col","","nzSpan","24",1,"flex","justify-between"],["nz-button","",1,"bg-grey-light","rounded-xl","text-white",3,"click"],["nz-button","",1,"bg-primary","rounded-xl","text-white","disabled:bg-grey",3,"disabled","click"],["nzTitle","Activity Logs"],[3,"dataSource","config"],["name","actionTaken","value","Action Taken"],["name","module","value","Module"],["name","dateCreated","value","Date"],["prefixTemplateCheck",""],["prefixTemplateError",""],["nz-icon","","nzType","check-circle","nzTheme","outline",1,"text-green-600"],["nz-icon","","nzType","exclamation-circle","nzTheme","outline","nzTooltipTitle","This field is required!","nzTooltipPlacement","bottom","nz-tooltip","",1,"text-red-600"]],template:function(o,r){if(1&o&&(t.I0R(0,"div",0)(1,"div",1)(2,"div",2)(3,"nz-card",3)(4,"form",4)(5,"div",1)(6,"div",5)(7,"h5"),t.OEk(8,"Address"),t.C$Y(),t.I0R(9,"nz-input-group",6),t.wR5(10,"textarea",7),t.C$Y()()(),t.I0R(11,"div",1)(12,"div",2)(13,"h5"),t.OEk(14,"Phone Number"),t.C$Y(),t.I0R(15,"nz-input-group",6),t.wR5(16,"input",8),t.C$Y()(),t.I0R(17,"div",9)(18,"h5"),t.OEk(19,"Mobile Number"),t.C$Y(),t.I0R(20,"nz-input-group",6),t.wR5(21,"input",10),t.C$Y()()(),t.I0R(22,"div",1)(23,"div",11)(24,"h5"),t.OEk(25,"Username"),t.C$Y(),t.I0R(26,"nz-input-group",6),t.wR5(27,"input",12),t.C$Y()(),t.I0R(28,"div",11)(29,"h5"),t.OEk(30,"Password"),t.C$Y(),t.I0R(31,"nz-input-group",6),t.wR5(32,"input",13),t.C$Y()(),t.I0R(33,"div",14)(34,"h5"),t.OEk(35,"Confirm Password"),t.C$Y(),t.I0R(36,"nz-input-group",6),t.wR5(37,"input",15),t.C$Y()()()(),t.wR5(38,"br"),t.I0R(39,"div",1)(40,"div",16)(41,"button",17),t.qCj("click",function(){return r.reset()}),t.OEk(42,"RESET"),t.C$Y(),t.I0R(43,"button",18),t.qCj("click",function(){return r.submit()}),t.OEk(44,"SUBMIT"),t.C$Y()()()()(),t.I0R(45,"div",9)(46,"nz-card",19)(47,"app-table",20),t.wR5(48,"app-table-columns",21)(49,"app-table-columns",22)(50,"app-table-columns",23),t.C$Y()()()()(),t.yuY(51,U,1,0,"ng-template",null,24,t.gJz)(53,j,1,0,"ng-template",null,25,t.gJz)),2&o){const i=t.Gew(52),a=t.Gew(54);let f,z,g,h,v,b,C,G,y,E,R,A;t.yG2(4),t.E7m("formGroup",r.formGroup),t.yG2(5),t.E7m("nzPrefix",null!=(f=r.formGroup.get("address"))&&f.hasError("required")?a:i)("nzStatus",null!=(z=r.formGroup.get("address"))&&z.hasError("required")?"error":""),t.yG2(6),t.E7m("nzPrefix",null!=(g=r.formGroup.get("phoneNumber"))&&g.hasError("required")?a:i)("nzStatus",null!=(h=r.formGroup.get("phoneNumber"))&&h.hasError("required")?"error":""),t.yG2(5),t.E7m("nzPrefix",null!=(v=r.formGroup.get("mobileNumber"))&&v.hasError("required")?a:i)("nzStatus",null!=(b=r.formGroup.get("mobileNumber"))&&b.hasError("required")?"error":""),t.yG2(6),t.E7m("nzPrefix",null!=(C=r.formGroup.get("userName"))&&C.hasError("required")?a:i)("nzStatus",null!=(G=r.formGroup.get("userName"))&&G.hasError("required")?"error":""),t.yG2(5),t.E7m("nzPrefix",null!=(y=r.formGroup.get("password"))&&y.hasError("required")?a:i)("nzStatus",null!=(E=r.formGroup.get("password"))&&E.hasError("required")?"error":""),t.yG2(5),t.E7m("nzPrefix",null!=(R=r.formGroup.get("confirmPassword"))&&R.hasError("required")?a:i)("nzStatus",null!=(A=r.formGroup.get("confirmPassword"))&&A.hasError("required")?"error":""),t.yG2(7),t.E7m("disabled",r.formGroup.invalid),t.yG2(4),t.E7m("dataSource",r.logs)("config",r.tableConfig)}},dependencies:[Y.Ez,P.k,$.o9,x.If,d.QD,d.ox,p.cv,p.qG,p.sj,O.Q9,Q.qG,s.sz,s.ot,s.ue,s.u,s.uW,s.Wo,D.o,M.E]})}return e})(),data:{breadcrumb:N.m.ACCOUNT}}]}];let L=(()=>{class e{static \u0275fac=function(o){return new(o||e)};static \u0275mod=t.a4G({type:e});static \u0275inj=t.s3X({imports:[l.qQ.forChild(k),l.qQ]})}return e})(),q=(()=>{class e{static \u0275fac=function(o){return new(o||e)};static \u0275mod=t.a4G({type:e});static \u0275inj=t.s3X({imports:[I.MD,L,S.k]})}return e})()}}]);